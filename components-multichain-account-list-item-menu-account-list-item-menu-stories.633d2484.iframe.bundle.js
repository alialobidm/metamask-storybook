"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[36888],{"./node_modules/@metamask/etherscan-link/dist/account-link.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAccountLink=exports.createCustomAccountLink=exports.createAccountLinkForChain=exports.createAccountLink=void 0;let helpers_1=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/helpers.js"),prefix_for_chain_1=__importDefault(__webpack_require__("./node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js")),prefix_for_network_1=__importDefault(__webpack_require__("./node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"));function createAccountLink(address,networkId){let prefix=prefix_for_network_1.default(networkId);return null===prefix?"":`https://${prefix}etherscan.io/address/${address}`}function createAccountLinkForChain(address,chainId){let prefix=prefix_for_chain_1.default(chainId);return null===prefix?"":`https://${prefix}etherscan.io/address/${address}`}function createCustomAccountLink(address,customNetworkUrl){return helpers_1.addPathToUrl(customNetworkUrl,"address",address)}function getAccountLink(address,chainId,rpcPrefs={},networkId=""){return rpcPrefs.blockExplorerUrl?createCustomAccountLink(address,rpcPrefs.blockExplorerUrl):networkId?createAccountLink(address,networkId):createAccountLinkForChain(address,chainId)}exports.createAccountLink=createAccountLink,exports.createAccountLinkForChain=createAccountLinkForChain,exports.createCustomAccountLink=createCustomAccountLink,exports.getAccountLink=getAccountLink},"./node_modules/@metamask/etherscan-link/dist/explorer-link.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBlockExplorerLink=exports.createExplorerLinkForChain=exports.createExplorerLink=exports.createCustomExplorerLink=void 0;let helpers_1=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/helpers.js"),prefix_for_chain_1=__importDefault(__webpack_require__("./node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js")),prefix_for_network_1=__importDefault(__webpack_require__("./node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"));function createCustomExplorerLink(hash,customNetworkUrl){return helpers_1.addPathToUrl(customNetworkUrl,"tx",hash)}function createExplorerLink(hash,network){let prefix=prefix_for_network_1.default(network);return null===prefix?"":`https://${prefix}etherscan.io/tx/${hash}`}function createExplorerLinkForChain(hash,chainId){let prefix=prefix_for_chain_1.default(chainId);return null===prefix?"":`https://${prefix}etherscan.io/tx/${hash}`}function getBlockExplorerLink(transaction,rpcPrefs={}){return rpcPrefs.blockExplorerUrl?createCustomExplorerLink(transaction.hash,rpcPrefs.blockExplorerUrl):transaction.chainId?createExplorerLinkForChain(transaction.hash,transaction.chainId):createExplorerLink(transaction.hash,transaction.metamaskNetworkId)}exports.createCustomExplorerLink=createCustomExplorerLink,exports.createExplorerLink=createExplorerLink,exports.createExplorerLinkForChain=createExplorerLinkForChain,exports.getBlockExplorerLink=getBlockExplorerLink},"./node_modules/@metamask/etherscan-link/dist/helpers.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.addPathToUrl=void 0,exports.addPathToUrl=(customNetworkUrl,linkType,suffixType)=>{let{username,password,protocol,host,pathname,search,hash}=new URL(customNetworkUrl),newPath=pathname.endsWith("/")?`${pathname}${linkType}/${suffixType}`:`${pathname}/${linkType}/${suffixType}`,auth=username?`${username}:${password}`:"";return new URL(`${protocol}//${auth}${host}${newPath}${search}${hash}`).toString()}},"./node_modules/@metamask/etherscan-link/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{let account_link_1=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/account-link.js"),explorer_link_1=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/explorer-link.js"),token_tracker_link_1=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/token-tracker-link.js");module.exports={createExplorerLink:explorer_link_1.createExplorerLink,createCustomExplorerLink:explorer_link_1.createCustomExplorerLink,createExplorerLinkForChain:explorer_link_1.createExplorerLinkForChain,createAccountLink:account_link_1.createAccountLink,createCustomAccountLink:account_link_1.createCustomAccountLink,createAccountLinkForChain:account_link_1.createAccountLinkForChain,createTokenTrackerLink:token_tracker_link_1.createTokenTrackerLink,createCustomTokenTrackerLink:token_tracker_link_1.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:token_tracker_link_1.createTokenTrackerLinkForChain,getBlockExplorerLink:explorer_link_1.getBlockExplorerLink,getAccountLink:account_link_1.getAccountLink,getTokenTrackerLink:token_tracker_link_1.getTokenTrackerLink}},"./node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js":module=>{module.exports=function getPrefixForChain(chainId){let prefix;switch(chainId){case"0x1":prefix="";break;case"0x5":prefix="goerli.";break;case"0xaa36a7":prefix="sepolia.";break;default:prefix=null}return prefix}},"./node_modules/@metamask/etherscan-link/dist/prefix-for-network.js":module=>{module.exports=function getPrefixForNetwork(networkId){let prefix;switch(parseInt(networkId)){case 1:prefix="";break;case 5:prefix="goerli.";break;case 11155111:prefix="sepolia.";break;default:prefix=null}return prefix}},"./node_modules/@metamask/etherscan-link/dist/token-tracker-link.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTokenTrackerLink=exports.createTokenTrackerLinkForChain=exports.createCustomTokenTrackerLink=exports.createTokenTrackerLink=void 0;let helpers_1=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/helpers.js"),prefix_for_chain_1=__importDefault(__webpack_require__("./node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js")),prefix_for_network_1=__importDefault(__webpack_require__("./node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"));function createTokenTrackerLink(tokenAddress,networkId,holderAddress){let prefix=prefix_for_network_1.default(networkId);return null===prefix?"":`https://${prefix}etherscan.io/token/${tokenAddress}${holderAddress?`?a=${holderAddress}`:""}`}function createCustomTokenTrackerLink(tokenAddress,customNetworkUrl){return helpers_1.addPathToUrl(customNetworkUrl,"token",tokenAddress)}function createTokenTrackerLinkForChain(tokenAddress,chainId,holderAddress){let prefix=prefix_for_chain_1.default(chainId);return null===prefix?"":`https://${prefix}etherscan.io/token/${tokenAddress}${holderAddress?`?a=${holderAddress}`:""}`}function getTokenTrackerLink(tokenAddress,chainId,networkId,holderAddress,rpcPrefs={}){return rpcPrefs.blockExplorerUrl?createCustomTokenTrackerLink(tokenAddress,rpcPrefs.blockExplorerUrl):networkId?createTokenTrackerLink(tokenAddress,networkId,holderAddress):createTokenTrackerLinkForChain(tokenAddress,chainId,holderAddress)}exports.createTokenTrackerLink=createTokenTrackerLink,exports.createCustomTokenTrackerLink=createCustomTokenTrackerLink,exports.createTokenTrackerLinkForChain=createTokenTrackerLinkForChain,exports.getTokenTrackerLink=getTokenTrackerLink},"./ui/components/multichain/account-list-item-menu/account-list-item-menu.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/multichain/account-list-item-menu/index.js");let __WEBPACK_DEFAULT_EXPORT__={title:"Components/Multichain/AccountListItemMenu",component:___WEBPACK_IMPORTED_MODULE_1__.S,argTypes:{anchorElement:{control:"window.Element"},onClose:{action:"onClose"},closeMenu:{action:"closeMenu"},isRemovable:{control:"boolean"},account:{control:"object"},isOpen:{control:"boolean"}},args:{anchorElement:null,account:{address:"0xb19ac54efa18cc3a14a5b821bfec73d284bf0c5e",id:"cf8dace4-9439-4bd4-b3a8-88c821c8fcb3",metadata:{name:"Account 1",keyring:{type:"HD Key Tree"}},options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",balance:"0x152387ad22c3f0",tokenBalance:"32.09 ETH"},isRemovable:!0,isOpen:!0}};var DefaultStory=function(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.S,args)};DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...DefaultStory.parameters?.docs,source:{originalSource:"args => <AccountListItemMenu {...args} />",...DefaultStory.parameters?.docs?.source}}};let __namedExportsOrder=["DefaultStory"]},"./ui/components/multichain/account-list-item-menu/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>AccountListItemMenu});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),caip_formatters=__webpack_require__("./node_modules/@metamask/bridge-controller/dist/utils/caip-formatters.mjs"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),networks=__webpack_require__("./shared/modules/selectors/networks.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),menu=__webpack_require__("./ui/components/ui/menu/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),actions=__webpack_require__("./ui/__mocks__/actions.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),metrics=__webpack_require__("./ui/helpers/utils/metrics.js"),menu_items=__webpack_require__("./ui/components/multichain/menu-items/index.js"),selectors_selectors=__webpack_require__("./ui/selectors/selectors.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var METRICS_LOCATION="Account Options",AccountListItemMenu=function(param){var anchorElement=param.anchorElement,onClose=param.onClose,closeMenu=param.closeMenu,isRemovable=param.isRemovable,account=param.account,isOpen=param.isOpen,isPinned=param.isPinned,isHidden=param.isHidden,t=(0,useI18nContext.P)(),trackEvent=(0,react.useContext)(metametrics.O2),hdEntropyIndex=(0,es.d4)(selectors_selectors.gDl),dispatch=(0,es.wA)(),chainId=(0,es.d4)(networks.gr),deviceName=(0,es.d4)(selectors.ks6),keyring=account.metadata.keyring,accountType=(0,metrics.lU)((0,selectors.cgi)(keyring)),pinnedAccountList=(0,es.d4)(selectors.DRO),hiddenAccountList=(0,es.d4)(selectors.Znp),lastItemRef=(0,react.useRef)(null),accountDetailsItemRef=(0,react.useRef)(null),removeAccountItemRef=(0,react.useRef)(null),removeJWTItemRef=(0,react.useRef)(null);(0,react.useEffect)(function(){removeJWTItemRef.current?lastItemRef.current=removeJWTItemRef.current:removeAccountItemRef.current?lastItemRef.current=removeAccountItemRef.current:lastItemRef.current=accountDetailsItemRef.current},[removeJWTItemRef.current,removeAccountItemRef.current,accountDetailsItemRef.current]);var handleKeyDown=(0,react.useCallback)(function(event){"Tab"===event.key&&event.target===lastItemRef.current&&onClose()},[onClose]),popoverDialogRef=(0,react.useRef)(null),handleClickOutside=(0,react.useCallback)(function(event){(null==popoverDialogRef?void 0:popoverDialogRef.current)&&!popoverDialogRef.current.contains(event.target)&&onClose()},[onClose]);(0,react.useEffect)(function(){return document.addEventListener("mousedown",handleClickOutside),function(){document.removeEventListener("mousedown",handleClickOutside)}},[handleClickOutside]);var handlePinning=function(address){var updatedPinnedAccountList=_to_consumable_array(pinnedAccountList).concat([address]);dispatch((0,actions.updateAccountsList)(updatedPinnedAccountList))},handleUnpinning=function(address){var updatedPinnedAccountList=pinnedAccountList.filter(function(item){return item!==address});dispatch((0,actions.updateAccountsList)(updatedPinnedAccountList))},handleHidding=function(address){var updatedHiddenAccountList=_to_consumable_array(hiddenAccountList).concat([address]);pinnedAccountList.includes(address)&&handleUnpinning(address),dispatch((0,actions.updateHiddenAccountsList)(updatedHiddenAccountList))},handleUnhidding=function(address){var updatedHiddenAccountList=hiddenAccountList.filter(function(item){return item!==address});dispatch((0,actions.updateHiddenAccountsList)(updatedHiddenAccountList))};return react.createElement(component_library.AM,{className:"multichain-account-list-item-menu__popover",referenceElement:anchorElement,role:component_library.c6.Dialog,position:component_library.$x.Bottom,offset:[0,0],padding:0,isOpen:isOpen,isPortal:!0,preventOverflow:!0,flip:!0},react.createElement(component_library.Qc,{restoreFocus:!0,initialFocusRef:anchorElement},react.createElement("div",{onKeyDown:handleKeyDown,ref:popoverDialogRef},react.createElement(menu_items.Y,{metricsLocation:METRICS_LOCATION,closeMenu:closeMenu,address:account.address,textProps:{variant:design_system.J3.bodySm}}),react.createElement(menu_items.r,{metricsLocation:METRICS_LOCATION,closeMenu:closeMenu,textProps:{variant:design_system.J3.bodySm},account:account}),isHidden?null:react.createElement(menu.D,{"data-testid":"account-list-menu-pin",onClick:function(){isPinned?handleUnpinning(account.address):handlePinning(account.address),onClose()},iconName:isPinned?component_library.$M.Unpin:component_library.$M.Pin},react.createElement(component_library.EY,{variant:design_system.J3.bodySm},t(isPinned?"unpin":"pinToTop"))),react.createElement(menu.D,{"data-testid":"account-list-menu-hide",onClick:function(){isHidden?handleUnhidding(account.address):handleHidding(account.address),onClose()},iconName:isHidden?component_library.$M.Eye:component_library.$M.EyeSlash},react.createElement(component_library.EY,{variant:design_system.J3.bodySm},t(isHidden?"showAccount":"hideAccount"))),isRemovable?react.createElement(menu.D,{ref:removeAccountItemRef,"data-testid":"account-list-menu-remove",onClick:function(){dispatch((0,actions.showModal)({name:"CONFIRM_REMOVE_ACCOUNT",account:account})),trackEvent({event:constants_metametrics.gP.AccountRemoved,category:constants_metametrics.FZ.Accounts,properties:{account_hardware_type:deviceName,chain_id:chainId,account_type:accountType,hd_entropy_index:hdEntropyIndex,caip_chain_id:(0,caip_formatters.Kr)(chainId)}}),onClose(),null==closeMenu||closeMenu()},iconName:component_library.$M.Trash},react.createElement(component_library.EY,{variant:design_system.J3.bodySm},t("removeAccount"))):null)))};AccountListItemMenu.propTypes={anchorElement:prop_types_default().instanceOf(window.Element),onClose:prop_types_default().func.isRequired,isOpen:prop_types_default().bool.isRequired,closeMenu:prop_types_default().func,isRemovable:prop_types_default().bool.isRequired,isPinned:prop_types_default().bool,isHidden:prop_types_default().bool,account:prop_types_default().shape({id:prop_types_default().string.isRequired,address:prop_types_default().string.isRequired,balance:prop_types_default().string.isRequired,metadata:prop_types_default().shape({name:prop_types_default().string.isRequired,snap:prop_types_default().shape({id:prop_types_default().string.isRequired,name:prop_types_default().string,enabled:prop_types_default().bool}),keyring:prop_types_default().shape({type:prop_types_default().string.isRequired}).isRequired}).isRequired}).isRequired},AccountListItemMenu.__docgenInfo={description:"",methods:[],displayName:"AccountListItemMenu",props:{anchorElement:{description:"Element that the menu should display next to",type:{name:"instanceOf",value:"window.Element"},required:!1},onClose:{description:"Function that executes when the menu is closed",type:{name:"func"},required:!0},isOpen:{description:"Represents if the menu is open or not\n\n@type {boolean}",type:{name:"bool"},required:!0},closeMenu:{description:"Function that closes the menu",type:{name:"func"},required:!1},isRemovable:{description:"Represents if the account should be removable",type:{name:"bool"},required:!0},isPinned:{description:"Represents pinned accounts",type:{name:"bool"},required:!1},isHidden:{description:"Represents hidden accounts",type:{name:"bool"},required:!1},account:{description:"An account object that has name, address, and balance data",type:{name:"shape",value:{id:{name:"string",required:!0},address:{name:"string",required:!0},balance:{name:"string",required:!0},metadata:{name:"shape",value:{name:{name:"string",required:!0},snap:{name:"shape",value:{id:{name:"string",required:!0},name:{name:"string",required:!1},enabled:{name:"bool",required:!1}},required:!1},keyring:{name:"shape",value:{type:{name:"string",required:!0}},required:!0}},required:!0}}},required:!0}}}},"./ui/components/multichain/menu-items/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>AccountDetailsMenuItem,r:()=>view_explorer_menu_item.r});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/__mocks__/actions.js"),menu=__webpack_require__("./ui/components/ui/menu/index.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),selectors=__webpack_require__("./ui/selectors/selectors.js"),AccountDetailsMenuItem=function(param){var metricsLocation=param.metricsLocation,closeMenu=param.closeMenu,address=param.address,textProps=param.textProps,t=(0,useI18nContext.P)(),dispatch=(0,es.wA)(),trackEvent=(0,react.useContext)(metametrics.O2),hdEntropyIndex=(0,es.d4)(selectors.gDl),LABEL=t("accountDetails");return react.createElement(menu.D,{onClick:function(){dispatch((0,actions.setAccountDetailsAddress)(address)),trackEvent({event:constants_metametrics.gP.AccountDetailsOpened,category:constants_metametrics.FZ.Navigation,properties:{location:metricsLocation,hd_entropy_index:hdEntropyIndex}}),null==closeMenu||closeMenu()},iconName:component_library.$M.ScanBarcode,"data-testid":"account-list-menu-details"},textProps?react.createElement(component_library.EY,textProps,LABEL):LABEL)};AccountDetailsMenuItem.propTypes={metricsLocation:prop_types_default().string.isRequired,closeMenu:prop_types_default().func,address:prop_types_default().string.isRequired,textProps:prop_types_default().object},AccountDetailsMenuItem.__docgenInfo={description:"",methods:[],displayName:"AccountDetailsMenuItem",props:{metricsLocation:{description:'Represents the "location" property of the metrics event',type:{name:"string"},required:!0},closeMenu:{description:"Closes the menu",type:{name:"func"},required:!1},address:{description:"Address to show account details for",type:{name:"string"},required:!0},textProps:{description:"Custom properties for the menu item text",type:{name:"object"},required:!1}}};var view_explorer_menu_item=__webpack_require__("./ui/components/multichain/menu-items/view-explorer-menu-item.tsx")},"./ui/components/ui/menu/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>menu,D:()=>menu_item});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),usePopper=__webpack_require__("./node_modules/react-popper/lib/esm/usePopper.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var Menu=function(param){var anchorElement=param.anchorElement,children=param.children,className=param.className,dataTestId=param["data-testid"],onHide=param.onHide,popperOptions=param.popperOptions,_useState=_sliced_to_array((0,react.useState)(null),2),popperElement=_useState[0],setPopperElement=_useState[1],popoverContainerElement=(0,react.useRef)(document.getElementById("popover-content")),_usePopper=(0,usePopper.E)(anchorElement,popperElement,popperOptions),attributes=_usePopper.attributes,styles=_usePopper.styles;return(0,react_dom.createPortal)(react.createElement(react.Fragment,null,react.createElement("div",{className:"menu__background","data-testid":dataTestId,onClick:onHide}),react.createElement("div",_object_spread({className:classnames_default()("menu__container",className),"data-testid":className,ref:setPopperElement,style:styles.popper},attributes.popper),children)),popoverContainerElement.current)};Menu.propTypes={anchorElement:prop_types_default().instanceOf(window.Element),children:prop_types_default().node.isRequired,className:prop_types_default().string,onHide:prop_types_default().func.isRequired,popperOptions:prop_types_default().object,dataTestId:prop_types_default().string},Menu.defaultProps={anchorElement:void 0,className:void 0,popperOptions:void 0};let menu=Menu;var component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),MenuItem=react.forwardRef(function(param,ref){var children=param.children,className=param.className,dataTestId=param["data-testid"],iconName=param.iconName,iconColor=param.iconColor,onClick=param.onClick,subtitle=param.subtitle,_param_disabled=param.disabled,showInfoDot=param.showInfoDot;return react.createElement("button",{className:classnames_default()("menu-item",className),"data-testid":dataTestId,onClick:onClick,ref:ref,disabled:void 0!==_param_disabled&&_param_disabled},iconName&&showInfoDot&&react.createElement(component_library.ph,{anchorElementShape:component_library.Hs.circular,display:design_system.nl.Block,position:component_library.uc.topRight,positionObj:{top:-6,right:4},badge:react.createElement(component_library.In,{name:component_library.$M.FullCircle,size:component_library.lK.Xs,color:design_system.Li.primaryDefault,style:{"--size":"10px"}})},react.createElement(component_library.In,{name:iconName,size:component_library.lK.Sm,marginRight:2})),iconName&&!showInfoDot&&react.createElement(component_library.In,{name:iconName,size:component_library.lK.Sm,marginRight:2,color:iconColor}),react.createElement("div",null,react.createElement(component_library.EY,{as:"div"},children),subtitle?react.createElement(component_library.EY,{variant:design_system.J3.bodyXs},subtitle):null))});MenuItem.propTypes={children:prop_types_default().node.isRequired,className:prop_types_default().string,"data-testid":prop_types_default().string,iconName:prop_types_default().string,onClick:prop_types_default().func,subtitle:prop_types_default().node,disabled:prop_types_default().bool,showInfoDot:prop_types_default().bool,iconColor:prop_types_default().string},MenuItem.displayName="MenuItem";let menu_item=MenuItem;MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},children:{description:"",type:{name:"node"},required:!0},className:{description:"",type:{name:"string"},required:!1},"data-testid":{description:"",type:{name:"string"},required:!1},iconName:{description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},subtitle:{description:"",type:{name:"node"},required:!1},showInfoDot:{description:"",type:{name:"bool"},required:!1},iconColor:{description:"",type:{name:"string"},required:!1}}}},"./ui/helpers/utils/metrics.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function formatAccountType(accountType){return"default"===accountType?"metamask":accountType}function generateSignatureUniqueId(requestId){return"signature-".concat(requestId)}__webpack_require__.d(__webpack_exports__,{IU:()=>generateSignatureUniqueId,lU:()=>formatAccountType}),__webpack_require__("./shared/constants/security-provider.ts"),__webpack_require__("./shared/constants/metametrics.ts"),__webpack_require__("./shared/lib/transactions-controller-utils.js")},"./shared/constants/security-provider.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K$:()=>SECURITY_PROVIDER_UTM_SOURCE,NE:()=>FALSE_POSITIVE_REPORT_BASE_URL,O5:()=>SecurityProvider,W4:()=>BlockaidReason,ob:()=>SECURITY_PROVIDER_CONFIG,p0:()=>BlockaidResultType});var SecurityProvider,BlockaidReason,BlockaidResultType,SecurityAlertSource,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/types.mjs");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(SecurityProvider||(SecurityProvider={})).Blockaid="blockaid";var SECURITY_PROVIDER_CONFIG=_define_property({},"blockaid",{tKeyName:"blockaid",url:"https://blockaid.io/"});!function(BlockaidReason){BlockaidReason.approvalFarming="approval_farming",BlockaidReason.blurFarming="blur_farming",BlockaidReason.maliciousDomain="malicious_domain",BlockaidReason.permitFarming="permit_farming",BlockaidReason.rawNativeTokenTransfer="raw_native_token_transfer",BlockaidReason.rawSignatureFarming="raw_signature_farming",BlockaidReason.seaportFarming="seaport_farming",BlockaidReason.setApprovalForAll="set_approval_for_all",BlockaidReason.tradeOrderFarming="trade_order_farming",BlockaidReason.transferFarming="transfer_farming",BlockaidReason.transferFromFarming="transfer_from_farming",BlockaidReason.other="other",BlockaidReason.errored="Error",BlockaidReason.notApplicable="NotApplicable",BlockaidReason.inProgress="validation_in_progress"}(BlockaidReason||(BlockaidReason={})),function(BlockaidResultType){BlockaidResultType.Malicious="Malicious",BlockaidResultType.Warning="Warning",BlockaidResultType.Benign="Benign",BlockaidResultType.Errored="Error",BlockaidResultType.NotApplicable="NotApplicable",BlockaidResultType.Loading="loading"}(BlockaidResultType||(BlockaidResultType={}));var FALSE_POSITIVE_REPORT_BASE_URL="https://blockaid-false-positive-portal.metamask.io",SECURITY_PROVIDER_UTM_SOURCE="metamask-ppom";_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swap,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swapApproval,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.swapAndSend,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.bridgeApproval,_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_0__.D_.bridge,function(SecurityAlertSource){SecurityAlertSource.API="api",SecurityAlertSource.Local="local"}(SecurityAlertSource||(SecurityAlertSource={}))},"./shared/lib/multichain/networks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function formatBlockExplorerUrl(url,tag,value){return url.replaceAll(tag,value)}function formatBlockExplorerAddressUrl(urls,address){return formatBlockExplorerUrl(urls.address,"{address}",address)}function formatBlockExplorerTransactionUrl(urls,txId){return urls.transaction.replace("{txId}",txId)}__webpack_require__.d(__webpack_exports__,{TT:()=>formatBlockExplorerAddressUrl,Xd:()=>formatBlockExplorerTransactionUrl})},"./ui/components/multichain/menu-items/view-explorer-menu-item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>openBlockExplorer,r:()=>ViewExplorerMenuItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js"),_metamask_utils__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@metamask/utils/dist/caip-types.mjs"),_helpers_utils_multichain_blockExplorer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/utils/multichain/blockExplorer.ts"),_ui_menu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/menu/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useI18nContext.js"),_contexts_metametrics__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/contexts/metametrics.js"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./shared/constants/metametrics.ts"),_component_library__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/component-library/index.ts"),_selectors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/selectors/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/helpers/utils/util.js"),_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/helpers/constants/routes.ts"),_selectors_multichain__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/selectors/multichain.ts"),_hooks_useMultichainSelector__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ui/hooks/useMultichainSelector.ts"),openBlockExplorer=function(addressLink,metricsLocation,trackEvent,closeMenu){trackEvent({event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_6__.gP.ExternalLinkClicked,category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_6__.FZ.Navigation,properties:{link_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_6__.BD.AccountTracker,location:metricsLocation,url_domain:(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_9__.PB)(addressLink)}}),__webpack_require__.g.platform.openTab({url:addressLink}),null==closeMenu||closeMenu()},ViewExplorerMenuItem=function(param){var metricsLocation=param.metricsLocation,closeMenu=param.closeMenu,textProps=param.textProps,account=param.account,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.P)(),trackEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_metametrics__WEBPACK_IMPORTED_MODULE_5__.O2),history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.W6)(),multichainNetwork=(0,_hooks_useMultichainSelector__WEBPACK_IMPORTED_MODULE_12__.t)(_selectors_multichain__WEBPACK_IMPORTED_MODULE_11__.X3,account),addressLink=(0,_helpers_utils_multichain_blockExplorer__WEBPACK_IMPORTED_MODULE_2__.L)(account.address,multichainNetwork),chainId=(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_14__.rW)(multichainNetwork.chainId).reference,blockExplorerUrl=(0,_helpers_utils_multichain_blockExplorer__WEBPACK_IMPORTED_MODULE_2__.A)(multichainNetwork),blockExplorerUrlSubTitle=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_9__.PB)(blockExplorerUrl),blockExplorerLinkText=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_8__.kZk),routeToAddBlockExplorerUrl=function(){history.push("".concat(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_10__.Go,"#blockExplorerUrl"))},LABEL=t("viewOnExplorer");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_menu__WEBPACK_IMPORTED_MODULE_3__.D,{onClick:function(){"addBlockExplorer"===blockExplorerLinkText.firstPart?routeToAddBlockExplorerUrl():openBlockExplorer(addressLink,metricsLocation,trackEvent,closeMenu),trackEvent({event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_6__.gP.BlockExplorerLinkClicked,category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_6__.FZ.Accounts,properties:{location:metricsLocation,chain_id:chainId}}),null==closeMenu||closeMenu()},subtitle:blockExplorerUrlSubTitle||null,iconName:_component_library__WEBPACK_IMPORTED_MODULE_7__.$M.Export,"data-testid":"account-list-menu-open-explorer"},textProps?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_7__.EY,textProps,LABEL):LABEL)};try{ViewExplorerMenuItem.displayName="ViewExplorerMenuItem",ViewExplorerMenuItem.__docgenInfo={description:"",displayName:"ViewExplorerMenuItem",props:{metricsLocation:{defaultValue:null,description:'Represents the "location" property of the metrics event',name:"metricsLocation",required:!0,type:{name:"string"}},closeMenu:{defaultValue:null,description:"Closes the menu",name:"closeMenu",required:!1,type:{name:"(() => void)"}},textProps:{defaultValue:null,description:"Custom properties for the menu item text",name:"textProps",required:!1,type:{name:"object"}},account:{defaultValue:null,description:"Account to show account details for",name:"account",required:!0,type:{name:'{ type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2wpkh" | "solana:data-account"; id: string; options: Record<string, Json>; metadata: { name: string; importTime: number; keyring: { ...; }; nameLastUpdatedAt?: number | undefined; snap?: { ...; } | undefined; lastSelected?: number | undefined; }; address: string; sc...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/menu-items/view-explorer-menu-item.tsx#ViewExplorerMenuItem"]={docgenInfo:ViewExplorerMenuItem.__docgenInfo,name:"ViewExplorerMenuItem",path:"ui/components/multichain/menu-items/view-explorer-menu-item.tsx#ViewExplorerMenuItem"})}catch(__react_docgen_typescript_loader_error){}},"./ui/helpers/utils/multichain/blockExplorer.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>getMultichainBlockExplorerUrl,L:()=>getMultichainAccountUrl});var _metamask_etherscan_link__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),_metamask_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@metamask/utils/dist/caip-types.mjs"),_app_scripts_lib_multichain_address__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/scripts/lib/multichain/address.ts"),_shared_lib_multichain_networks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./shared/lib/multichain/networks.ts"),getMultichainBlockExplorerUrl=function(network){var _network_network_rpcPrefs,_network_network,_network_network_rpcPrefs_blockExplorerUrl;return null!==(_network_network_rpcPrefs_blockExplorerUrl=null===(_network_network=network.network)||void 0===_network_network?void 0:null===(_network_network_rpcPrefs=_network_network.rpcPrefs)||void 0===_network_network_rpcPrefs?void 0:_network_network_rpcPrefs.blockExplorerUrl)&&void 0!==_network_network_rpcPrefs_blockExplorerUrl?_network_network_rpcPrefs_blockExplorerUrl:""},getMultichainAccountUrl=function(address,network){if((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.rW)(network.chainId).namespace===_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.wV.Eip155)return(0,_metamask_etherscan_link__WEBPACK_IMPORTED_MODULE_0__.getAccountLink)((0,_app_scripts_lib_multichain_address__WEBPACK_IMPORTED_MODULE_1__.Nf)(address),network.network.chainId,null===(_network_network=network.network)||void 0===_network_network?void 0:_network_network.rpcPrefs);var _network_network,blockExplorerFormatUrls=network.network.blockExplorerFormatUrls;return blockExplorerFormatUrls?(0,_shared_lib_multichain_networks__WEBPACK_IMPORTED_MODULE_3__.TT)(blockExplorerFormatUrls,address):""}},"./ui/hooks/useMultichainSelector.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>useMultichainSelector});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/selectors/index.js");function useMultichainSelector(selector,account){return(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.d4)(function(state){return selector(state,account||(0,_selectors__WEBPACK_IMPORTED_MODULE_1__._rF)(state))})}}}]);