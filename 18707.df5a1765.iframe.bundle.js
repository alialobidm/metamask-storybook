"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[18707],{"./ui/components/multichain/network-list-menu/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>NetworkListMenu});var DropdownEditorStyle,_obj,ACTION_MODE,react=__webpack_require__("./node_modules/react/index.js"),react_beautiful_dnd_esm=__webpack_require__("./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),fuse=__webpack_require__("./node_modules/fuse.js/dist/fuse.js"),fuse_default=__webpack_require__.n(fuse),uri_all=__webpack_require__("./node_modules/uri-js/dist/es5/uri.all.js"),dist=__webpack_require__("./node_modules/@metamask/keyring-api/dist/index.mjs"),NetworkController=__webpack_require__("./node_modules/@metamask/network-controller/dist/NetworkController.mjs"),constants=__webpack_require__("./node_modules/@metamask/multichain-network-controller/dist/constants.mjs"),utils=__webpack_require__("./node_modules/@metamask/multichain-network-controller/dist/utils.mjs"),caip_types=__webpack_require__("./node_modules/@metamask/utils/dist/caip-types.mjs"),types=__webpack_require__("./node_modules/@metamask/controller-utils/dist/types.mjs"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),networks=__webpack_require__("./shared/constants/multichain/networks.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),useMultichainWalletSnapClient=__webpack_require__("./ui/hooks/accounts/useMultichainWalletSnapClient.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}var useAccountCreationOnNetworkChange=function(){var _ref,bitcoinWalletSnapClient=(0,useMultichainWalletSnapClient.w1)(useMultichainWalletSnapClient.pF.Bitcoin),solanaWalletSnapClient=(0,useMultichainWalletSnapClient.w1)(useMultichainWalletSnapClient.pF.Solana),accounts=(0,es.d4)(selectors.zi3);return{createAccount:(_ref=_async_to_generator(function(chainId){return _ts_generator(this,function(_state){switch(_state.label){case 0:switch(chainId){case networks.AF.BITCOIN:return[3,1];case networks.AF.SOLANA:return[3,3]}return[3,5];case 1:return[4,bitcoinWalletSnapClient.createAccount({scope:networks.AF.BITCOIN})];case 2:case 4:return _state.sent(),[3,6];case 3:return[4,solanaWalletSnapClient.createAccount({scope:networks.AF.SOLANA})];case 5:throw Error("Unsupported chainId: ".concat(chainId));case 6:return[2]}})}),function createAccount(chainId){return _ref.apply(this,arguments)}),hasAnyAccountsInNetwork:function(chainId){return accounts.some(function(param){return param.scopes.includes(chainId)})}}},network_list_item=__webpack_require__("./ui/components/multichain/network-list-item/index.js"),actions=__webpack_require__("./ui/__mocks__/actions.js"),constants_network=__webpack_require__("./shared/constants/network.ts"),toggle_button=__webpack_require__("./ui/components/ui/toggle-button/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),network_utils=__webpack_require__("./shared/modules/network.utils.ts"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),hex=__webpack_require__("./node_modules/@metamask/utils/dist/hex.mjs"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),rpc_utils=__webpack_require__("./shared/modules/rpc.utils.js"),selectors_networks=__webpack_require__("./shared/modules/selectors/networks.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}var stripKeyFromInfuraUrl=function(endpoint){var modifiedEndpoint=endpoint;return modifiedEndpoint.endsWith("/v3/{infuraProjectId}")?modifiedEndpoint=modifiedEndpoint.replace("/v3/{infuraProjectId}",""):modifiedEndpoint.endsWith("/v3/".concat(constants_network.kmf))&&(modifiedEndpoint=modifiedEndpoint.replace("/v3/".concat(constants_network.kmf),"")),modifiedEndpoint},stripProtocol=function(endpoint){var url=new URL(endpoint);return"".concat(url.host).concat("/"===url.pathname?"":url.pathname)};let rpc_list_item=function(param){var rpcEndpoint=param.rpcEndpoint,url=rpcEndpoint.url,name=rpcEndpoint.type===NetworkController.ZE.Infura?"Infura":rpcEndpoint.name,displayEndpoint=function(endpoint){return endpoint?stripProtocol(stripKeyFromInfuraUrl(endpoint)):"Â "},padding=name?2:4;return react.createElement(component_library.az,_object_spread({className:"rpc-list-item",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,paddingTop:padding,paddingBottom:padding},!name&&{borderWidth:2,borderStyle:design_system.kD.solid,borderColor:design_system.cG.transparent}),react.createElement(component_library.az,null,react.createElement(component_library.EY,{as:"button",padding:0,width:design_system.Zf.Full,color:name?design_system.r7.textDefault:design_system.r7.textAlternative,variant:name?design_system.J3.bodyMdMedium:design_system.J3.bodySm,backgroundColor:design_system.i0.transparent,ellipsis:!0},name||displayEndpoint(url))),name&&react.createElement(component_library.az,null,react.createElement(component_library.EY,{color:design_system.r7.textAlternative,variant:design_system.J3.bodySm,ellipsis:!0},displayEndpoint(url))))};try{stripKeyFromInfuraUrl.displayName="stripKeyFromInfuraUrl",stripKeyFromInfuraUrl.__docgenInfo={description:"",displayName:"stripKeyFromInfuraUrl",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/rpc-list-item.tsx#stripKeyFromInfuraUrl"]={docgenInfo:stripKeyFromInfuraUrl.__docgenInfo,name:"stripKeyFromInfuraUrl",path:"ui/components/multichain/network-list-menu/rpc-list-item.tsx#stripKeyFromInfuraUrl"})}catch(__react_docgen_typescript_loader_error){}try{stripProtocol.displayName="stripProtocol",stripProtocol.__docgenInfo={description:"",displayName:"stripProtocol",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/rpc-list-item.tsx#stripProtocol"]={docgenInfo:stripProtocol.__docgenInfo,name:"stripProtocol",path:"ui/components/multichain/network-list-menu/rpc-list-item.tsx#stripProtocol"})}catch(__react_docgen_typescript_loader_error){}try{rpclistitem.displayName="rpclistitem",rpclistitem.__docgenInfo={description:"",displayName:"rpclistitem",props:{rpcEndpoint:{defaultValue:null,description:"",name:"rpcEndpoint",required:!0,type:{name:"{ name?: string | undefined; url: string; type: RpcEndpointType; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/rpc-list-item.tsx#rpclistitem"]={docgenInfo:rpclistitem.__docgenInfo,name:"rpclistitem",path:"ui/components/multichain/network-list-menu/rpc-list-item.tsx#rpclistitem"})}catch(__react_docgen_typescript_loader_error){}var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_tooltip=__webpack_require__("./ui/components/ui/tooltip/index.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}!function(DropdownEditorStyle){DropdownEditorStyle[DropdownEditorStyle.PopoverStyle=0]="PopoverStyle",DropdownEditorStyle[DropdownEditorStyle.BoxStyle=1]="BoxStyle"}(DropdownEditorStyle||(DropdownEditorStyle={}));var DropdownEditor=function(param){var title=param.title,placeholder=param.placeholder,items=param.items,selectedItemIndex=param.selectedItemIndex,addButtonText=param.addButtonText,error=param.error,style=param.style,onItemSelected=param.onItemSelected,onItemDeleted=param.onItemDeleted,onItemAdd=param.onItemAdd,onDropdownOpened=param.onDropdownOpened,itemKey=param.itemKey,_param_itemIsDeletable=param.itemIsDeletable,itemIsDeletable=void 0===_param_itemIsDeletable?function(){return!0}:_param_itemIsDeletable,renderItem=param.renderItem,renderTooltip=param.renderTooltip,buttonDataTestId=param.buttonDataTestId,t=(0,useI18nContext.P)(),dropdown=(0,react.useRef)(null),_useState=_sliced_to_array((0,react.useState)(!1),2),isDropdownOpen=_useState[0],setIsDropdownOpen=_useState[1],renderDropdownList=function(){return react.createElement(component_library.az,null,null==items?void 0:items.map(function(item,index){var row=react.createElement(component_library.az,{alignItems:design_system.k2.center,paddingLeft:4,paddingRight:4,display:design_system.nl.Flex,justifyContent:design_system.A9.spaceBetween,key:itemKey(item),onClick:function(){onItemSelected(index),setIsDropdownOpen(!1)},className:classnames_default()("dropdown-editor__item",{"dropdown-editor__item--selected":index===selectedItemIndex})},index===selectedItemIndex&&react.createElement(component_library.az,{className:"dropdown-editor__item-selected-pill",borderRadius:design_system.Z6.pill,backgroundColor:design_system.i0.primaryDefault}),renderItem(item,!0),itemIsDeletable(item,items)&&react.createElement(component_library.a2,{marginLeft:1,ariaLabel:t("delete"),size:component_library.f3.Sm,iconName:component_library.$M.Trash,"data-testid":"delete-item-".concat(index),color:design_system.Li.errorDefault,onClick:function(e){var newSelectedIndex;e.stopPropagation(),void 0===selectedItemIndex||items.length<=1?newSelectedIndex=void 0:index===selectedItemIndex?newSelectedIndex=0:index>selectedItemIndex?newSelectedIndex=selectedItemIndex:index<selectedItemIndex&&(newSelectedIndex=selectedItemIndex-1),onItemDeleted(index,newSelectedIndex)}})),tooltip=renderTooltip(item,!0);return tooltip?react.createElement(ui_tooltip.A,{title:tooltip,position:"bottom"},row):row}),react.createElement(component_library.az,{onClick:onItemAdd,padding:4,display:design_system.nl.Flex,alignItems:design_system.k2.center,className:"dropdown-editor__item"},react.createElement(component_library.In,{color:design_system.Li.primaryDefault,name:component_library.$M.Add,size:component_library.lK.Sm,marginRight:2}),react.createElement(component_library.EY,{as:"button",backgroundColor:design_system.i0.transparent,color:design_system.r7.primaryDefault,variant:design_system.J3.bodySmMedium},addButtonText)))},borderColor=design_system.cG.borderDefault;error?borderColor=design_system.cG.errorDefault:isDropdownOpen&&(borderColor=design_system.cG.primaryDefault),(0,react.useEffect)(function(){isDropdownOpen&&(null==onDropdownOpened||onDropdownOpened())},[isDropdownOpen]);var selectedItem=null==items?void 0:items[null!=selectedItemIndex?selectedItemIndex:-1],tooltip=selectedItem?renderTooltip(selectedItem,!1):void 0,box=react.createElement(component_library.az,{onClick:function(){setIsDropdownOpen(!isDropdownOpen)},className:"dropdown-editor__item-dropdown",display:design_system.nl.Flex,alignItems:design_system.k2.center,justifyContent:design_system.A9.spaceBetween,borderRadius:design_system.Z6.LG,borderColor:borderColor,borderWidth:1,paddingLeft:4,paddingRight:4,ref:dropdown},selectedItem?renderItem(selectedItem,!1):react.createElement(component_library.pd,{className:"dropdown-editor__item-placeholder",placeholder:placeholder,readOnly:!0,tabIndex:-1,paddingTop:3,paddingBottom:3}),react.createElement(component_library.a2,{marginLeft:"auto",iconName:isDropdownOpen?component_library.$M.ArrowUp:component_library.$M.ArrowDown,ariaLabel:title,size:component_library.f3.Md,"data-testid":buttonDataTestId}));return react.createElement(component_library.az,{paddingTop:4},react.createElement(component_library.JU,{variant:design_system.J3.bodyMdMedium},title),tooltip?react.createElement(ui_tooltip.A,{title:tooltip,position:"bottom"},box):box,0===style?react.createElement(component_library.AM,{paddingTop:items&&items.length>0?2:0,paddingBottom:items&&items.length>0?2:0,paddingLeft:0,matchWidth:!0,paddingRight:0,className:"dropdown-editor__item-popover",referenceElement:dropdown.current,position:component_library.$x.Bottom,isOpen:isDropdownOpen,onClickOutside:function(){return setIsDropdownOpen(!1)}},renderDropdownList()):react.createElement(component_library.az,{marginTop:2,display:isDropdownOpen?design_system.nl.Block:design_system.nl.None,borderColor:design_system.cG.borderMuted,borderRadius:design_system.Z6.LG},renderDropdownList()))};try{PopoverStyle.displayName="DropdownEditorStyle.PopoverStyle",PopoverStyle.__docgenInfo={description:"When open, the dropdown overlays elements that follow",displayName:"DropdownEditorStyle.PopoverStyle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/dropdown-editor/dropdown-editor.tsx#DropdownEditorStyle.PopoverStyle"]={docgenInfo:DropdownEditorStyle.PopoverStyle.__docgenInfo,name:"DropdownEditorStyle.PopoverStyle",path:"ui/components/multichain/dropdown-editor/dropdown-editor.tsx#DropdownEditorStyle.PopoverStyle"})}catch(__react_docgen_typescript_loader_error){}try{BoxStyle.displayName="DropdownEditorStyle.BoxStyle",BoxStyle.__docgenInfo={description:"When open, the dropdown pushes down elements that follow",displayName:"DropdownEditorStyle.BoxStyle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/dropdown-editor/dropdown-editor.tsx#DropdownEditorStyle.BoxStyle"]={docgenInfo:DropdownEditorStyle.BoxStyle.__docgenInfo,name:"DropdownEditorStyle.BoxStyle",path:"ui/components/multichain/dropdown-editor/dropdown-editor.tsx#DropdownEditorStyle.BoxStyle"})}catch(__react_docgen_typescript_loader_error){}try{DropdownEditor.displayName="DropdownEditor",DropdownEditor.__docgenInfo={description:"",displayName:"DropdownEditor",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"Item[]"}},selectedItemIndex:{defaultValue:null,description:"",name:"selectedItemIndex",required:!1,type:{name:"number"}},addButtonText:{defaultValue:null,description:"",name:"addButtonText",required:!0,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!0,type:{name:"(index: number) => void"}},onItemDeleted:{defaultValue:null,description:"",name:"onItemDeleted",required:!0,type:{name:"(deletedIndex: number, newSelectedIndex?: number | undefined) => void"}},onItemAdd:{defaultValue:null,description:"",name:"onItemAdd",required:!0,type:{name:"() => void"}},onDropdownOpened:{defaultValue:null,description:"",name:"onDropdownOpened",required:!1,type:{name:"(() => void)"}},itemKey:{defaultValue:null,description:"",name:"itemKey",required:!0,type:{name:"(item: Item) => string"}},itemIsDeletable:{defaultValue:{value:"() => true"},description:"",name:"itemIsDeletable",required:!1,type:{name:"((item: Item, items: Item[]) => boolean)"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(item: Item, isList: boolean) => ReactNode"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!0,type:{name:"(item: Item, isList: boolean) => string | undefined"}},buttonDataTestId:{defaultValue:null,description:"",name:"buttonDataTestId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/dropdown-editor/dropdown-editor.tsx#DropdownEditor"]={docgenInfo:DropdownEditor.__docgenInfo,name:"DropdownEditor",path:"ui/components/multichain/dropdown-editor/dropdown-editor.tsx#DropdownEditor"})}catch(__react_docgen_typescript_loader_error){}var use_safe_chains=__webpack_require__("./ui/pages/settings/networks-tab/networks-form/use-safe-chains.ts");function networks_form_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function networks_form_array_with_holes(arr){if(Array.isArray(arr))return arr}function networks_form_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function networks_form_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){networks_form_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){networks_form_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function networks_form_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function networks_form_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function networks_form_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function networks_form_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){networks_form_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function networks_form_sliced_to_array(arr,i){return networks_form_array_with_holes(arr)||networks_form_iterable_to_array_limit(arr,i)||networks_form_unsupported_iterable_to_array(arr,i)||networks_form_non_iterable_rest()}function networks_form_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return networks_form_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return networks_form_array_like_to_array(o,minLen)}}function networks_form_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}var NetworksForm=function(param){var _ref,_warnings_name,_warnings_name1,_errors_rpcUrl,_errors_rpcUrl1,_errors_chainId,_errors_chainId1,_warnings_ticker,_rpcUrls_rpcEndpoints,networkFormState=param.networkFormState,existingNetwork=param.existingNetwork,onRpcAdd=param.onRpcAdd,onBlockExplorerAdd=param.onBlockExplorerAdd,t=(0,useI18nContext.P)(),dispatch=(0,es.wA)(),trackEvent=(0,react.useContext)(metametrics.O2),scrollableRef=(0,react.useRef)(null),networkConfigurations=(0,es.d4)(selectors_networks.hX),name=networkFormState.name,setName=networkFormState.setName,chainId=networkFormState.chainId,setChainId=networkFormState.setChainId,ticker=networkFormState.ticker,setTicker=networkFormState.setTicker,rpcUrls=networkFormState.rpcUrls,setRpcUrls=networkFormState.setRpcUrls,blockExplorers=networkFormState.blockExplorers,setBlockExplorers=networkFormState.setBlockExplorers,safeChains=(0,use_safe_chains.z)().safeChains,_useState=networks_form_sliced_to_array((0,react.useState)({}),2),errors=_useState[0],setErrors=_useState[1],_useState1=networks_form_sliced_to_array((0,react.useState)({}),2),warnings=_useState1[0],setWarnings=_useState1[1],_useState2=networks_form_sliced_to_array((0,react.useState)(),2),suggestedName=_useState2[0],setSuggestedName=_useState2[1],_useState3=networks_form_sliced_to_array((0,react.useState)(),2),suggestedTicker=_useState3[0],setSuggestedTicker=_useState3[1],_useState4=networks_form_sliced_to_array((0,react.useState)(),2),fetchedChainId=_useState4[0],setFetchedChainId=_useState4[1],tokenNetworkFilter=(0,es.d4)(selectors.G2B);(0,react.useEffect)(function(){var _safeChains_find,_NETWORK_TO_NAME_MAP_chainIdHex,chainIdHex=chainId?toHex(chainId):void 0,expectedName=chainIdHex?null!==(_NETWORK_TO_NAME_MAP_chainIdHex=constants_network.qJs[chainIdHex])&&void 0!==_NETWORK_TO_NAME_MAP_chainIdHex?_NETWORK_TO_NAME_MAP_chainIdHex:null==safeChains?void 0:null===(_safeChains_find=safeChains.find(function(chain){return toHex(chain.chainId)===chainIdHex}))||void 0===_safeChains_find?void 0:_safeChains_find.name:void 0,mismatch=expectedName&&expectedName!==name;setSuggestedName(mismatch?expectedName:void 0),setWarnings(function(state){return _object_spread_props(networks_form_object_spread({},state),{name:mismatch?{key:"wrongNetworkName",msg:t("wrongNetworkName")}:void 0})})},[chainId,name,safeChains]),(0,react.useEffect)(function(){var _safeChains_find_nativeCurrency,_safeChains_find,_CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_chainIdHex,chainIdHex=chainId?toHex(chainId):void 0,expectedSymbol=chainIdHex?null!==(_CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_chainIdHex=constants_network.Ow6[chainIdHex])&&void 0!==_CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_chainIdHex?_CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_chainIdHex:null==safeChains?void 0:null===(_safeChains_find=safeChains.find(function(chain){return toHex(chain.chainId)===chainIdHex}))||void 0===_safeChains_find?void 0:null===(_safeChains_find_nativeCurrency=_safeChains_find.nativeCurrency)||void 0===_safeChains_find_nativeCurrency?void 0:_safeChains_find_nativeCurrency.symbol:void 0,mismatch=expectedSymbol&&expectedSymbol!==ticker;setSuggestedTicker(mismatch?expectedSymbol:void 0),setWarnings(function(state){return _object_spread_props(networks_form_object_spread({},state),{ticker:mismatch?{key:"chainListReturnedDifferentTickerSymbol",msg:t("chainListReturnedDifferentTickerSymbol")}:void 0})})},[chainId,ticker,safeChains]),(0,react.useEffect)(function(){void 0===chainId||""===chainId?error=void 0:chainId.startsWith("0x")?RegExp("^0x[0-9a-f]+$","iu").test(chainId)?(0,network_utils.wz)(chainId)||(error=["invalidHexNumber",t("invalidHexNumberLeadingZeros")]):error=["invalidHexNumber",t("invalidHexNumber")]:RegExp("^[0-9]+$","u").test(chainId)?chainId.startsWith("0")&&(error=["invalidNumberLeadingZeros",t("invalidNumberLeadingZeros")]):error=["invalidNumber",t("invalidNumber")],!chainId||error||(0,network_utils.Oo)(parseInt(chainId,chainId.startsWith("0x")?16:10))||(error=["invalidChainIdTooBig",t("invalidChainIdTooBig")]);var error,rpcError,chainIdHex=toHex(chainId);if(!error&&!existingNetwork){var matchingNetwork=chainIdHex?networkConfigurations[chainIdHex]:void 0;matchingNetwork&&(error=["existingChainId",t("chainIdExistsErrorMsg",[matchingNetwork.name])])}fetchedChainId&&chainIdHex&&fetchedChainId!==chainIdHex&&(rpcError=["endpointReturnedDifferentChainId",t("endpointReturnedDifferentChainId",[(0,conversion_utils.I0)(fetchedChainId)])]),setErrors(function(state){return _object_spread_props(networks_form_object_spread({},state),{chainId:error?{key:error[0],msg:error[1]}:void 0,rpcUrl:rpcError?{key:rpcError[0],msg:rpcError[1]}:void 0})})},[chainId,fetchedChainId,null==existingNetwork?void 0:existingNetwork.chainId]),(0,react.useEffect)(function(){var _rpcUrls_rpcEndpoints_,_rpcUrls_rpcEndpoints,_rpcUrls_defaultRpcEndpointIndex,rpcUrl=null==rpcUrls?void 0:null===(_rpcUrls_rpcEndpoints=rpcUrls.rpcEndpoints)||void 0===_rpcUrls_rpcEndpoints?void 0:null===(_rpcUrls_rpcEndpoints_=_rpcUrls_rpcEndpoints[null!==(_rpcUrls_defaultRpcEndpointIndex=null==rpcUrls?void 0:rpcUrls.defaultRpcEndpointIndex)&&void 0!==_rpcUrls_defaultRpcEndpointIndex?_rpcUrls_defaultRpcEndpointIndex:-1])||void 0===_rpcUrls_rpcEndpoints_?void 0:_rpcUrls_rpcEndpoints_.url;rpcUrl&&(0,rpc_utils.$)(rpcUrl.endsWith("{infuraProjectId}")?rpcUrl.replace("{infuraProjectId}",null!==constants_network.kmf&&void 0!==constants_network.kmf?constants_network.kmf:""):rpcUrl,"eth_chainId").then(function(response){setFetchedChainId(response)}).catch(function(err){setFetchedChainId(void 0),loglevel_default().warn("Failed to fetch the chainId from the endpoint.",err),setErrors(function(state){return _object_spread_props(networks_form_object_spread({},state),{rpcUrl:{key:"failedToFetchChainId",msg:t("failedToFetchChainId")}})})})},[chainId,rpcUrls]);var onSubmit=(_ref=networks_form_async_to_generator(function(){var chainIdHex,_blockExplorers_blockExplorerUrls,_rpcUrls_rpcEndpoints_,_rpcUrls_defaultRpcEndpointIndex,networkPayload,options,_blockExplorers_defaultBlockExplorerUrlIndex,_rpcUrls_defaultRpcEndpointIndex1;return networks_form_ts_generator(this,function(_state){switch(_state.label){case 0:if(_state.trys.push([0,9,10,11]),(chainIdHex=chainId?toHex(chainId):void 0)!==constants_network.tx6.GOERLI)return[3,1];return dispatch((0,actions.showDeprecatedNetworkModal)()),[3,8];case 1:if(!chainIdHex)return[3,8];if(networkPayload={chainId:chainIdHex,name:name,nativeCurrency:ticker,rpcEndpoints:null==rpcUrls?void 0:rpcUrls.rpcEndpoints,defaultRpcEndpointIndex:null!==(_rpcUrls_defaultRpcEndpointIndex=null==rpcUrls?void 0:rpcUrls.defaultRpcEndpointIndex)&&void 0!==_rpcUrls_defaultRpcEndpointIndex?_rpcUrls_defaultRpcEndpointIndex:0,blockExplorerUrls:null==blockExplorers?void 0:blockExplorers.blockExplorerUrls,defaultBlockExplorerUrlIndex:null==blockExplorers?void 0:blockExplorers.defaultBlockExplorerUrlIndex},!existingNetwork)return[3,5];return options={replacementSelectedRpcEndpointIndex:chainIdHex===existingNetwork.chainId?null==rpcUrls?void 0:rpcUrls.defaultRpcEndpointIndex:void 0},[4,dispatch((0,actions.updateNetwork)(networkPayload,options))];case 2:if(_state.sent(),1!==Object.keys(tokenNetworkFilter).length)return[3,4];return[4,dispatch((0,actions.setTokenNetworkFilter)(networks_form_define_property({},existingNetwork.chainId,!0)))];case 3:_state.sent(),_state.label=4;case 4:return[3,7];case 5:return[4,dispatch((0,actions.addNetwork)(networkPayload))];case 6:_state.sent(),_state.label=7;case 7:trackEvent({event:constants_metametrics.gP.CustomNetworkAdded,category:constants_metametrics.FZ.Network,properties:{block_explorer_url:null==blockExplorers?void 0:null===(_blockExplorers_blockExplorerUrls=blockExplorers.blockExplorerUrls)||void 0===_blockExplorers_blockExplorerUrls?void 0:_blockExplorers_blockExplorerUrls[null!==(_blockExplorers_defaultBlockExplorerUrlIndex=null==blockExplorers?void 0:blockExplorers.defaultBlockExplorerUrlIndex)&&void 0!==_blockExplorers_defaultBlockExplorerUrlIndex?_blockExplorers_defaultBlockExplorerUrlIndex:-1],chain_id:chainIdHex,network_name:name,source_connection_method:constants_metametrics.q5.CustomNetworkForm,token_symbol:ticker},sensitiveProperties:{rpcUrl:(0,use_safe_chains.R)(null==rpcUrls?void 0:null===(_rpcUrls_rpcEndpoints_=rpcUrls.rpcEndpoints[null!==(_rpcUrls_defaultRpcEndpointIndex1=rpcUrls.defaultRpcEndpointIndex)&&void 0!==_rpcUrls_defaultRpcEndpointIndex1?_rpcUrls_defaultRpcEndpointIndex1:-1])||void 0===_rpcUrls_rpcEndpoints_?void 0:_rpcUrls_rpcEndpoints_.url,null!=safeChains?safeChains:[])}}),dispatch((0,actions.setEditedNetwork)({chainId:chainIdHex,nickname:name,editCompleted:!0,newNetwork:!existingNetwork})),_state.label=8;case 8:return[3,11];case 9:return console.error(_state.sent()),[3,11];case 10:return dispatch((0,actions.toggleNetworkMenu)()),[7];case 11:return[2]}})}),function onSubmit(){return _ref.apply(this,arguments)});return react.createElement(component_library.az,{height:design_system.Zf.Full,display:design_system.nl.Flex,justifyContent:design_system.A9.spaceBetween,flexDirection:design_system.bo.Column,alignItems:design_system.k2.center,ref:scrollableRef,className:"networks-tab__scrollable"},react.createElement(component_library.az,{width:design_system.Zf.Full,paddingLeft:4,paddingRight:4,paddingBottom:2},react.createElement(component_library.YJ,{id:"networkName",size:component_library.dY.Lg,placeholder:t("enterNetworkName"),"data-testid":"network-form-name-input",autoFocus:!0,helpText:(name&&(null==warnings?void 0:null===(_warnings_name=warnings.name)||void 0===_warnings_name?void 0:_warnings_name.msg)||suggestedName)&&react.createElement(react.Fragment,null,name&&(null==warnings?void 0:null===(_warnings_name1=warnings.name)||void 0===_warnings_name1?void 0:_warnings_name1.msg)&&react.createElement(component_library.$9,{variant:design_system.J3.bodySm,severity:component_library.er.Warning},warnings.name.msg),suggestedName&&react.createElement(component_library.EY,{as:"span",variant:design_system.J3.bodySm,color:design_system.r7.textDefault,"data-testid":"network-form-name-suggestion"},t("suggestedTokenName"),react.createElement(component_library.vx,{as:"button",variant:design_system.J3.bodySm,color:design_system.r7.primaryDefault,onClick:function(){setName(suggestedName)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},suggestedName))),onChange:function(e){var _e_target;setName(null===(_e_target=e.target)||void 0===_e_target?void 0:_e_target.value)},label:t("networkName"),labelProps:{children:void 0,variant:design_system.J3.bodyMdMedium},textFieldProps:{borderRadius:design_system.Z6.LG},inputProps:{"data-testid":"network-form-network-name"},value:name}),react.createElement(DropdownEditor,{title:t("defaultRpcUrl"),placeholder:t("addAUrl"),style:DropdownEditorStyle.PopoverStyle,items:rpcUrls.rpcEndpoints,itemKey:function(endpoint){return endpoint.url},selectedItemIndex:rpcUrls.defaultRpcEndpointIndex,error:!!errors.rpcUrl,buttonDataTestId:"test-add-rpc-drop-down",renderItem:function(item,isList){return isList||(null==item?void 0:item.name)||(null==item?void 0:item.type)===NetworkController.ZE.Infura?react.createElement(rpc_list_item,{rpcEndpoint:item}):react.createElement(component_library.EY,{ellipsis:!0,variant:design_system.J3.bodyMd,paddingTop:3,paddingBottom:3},stripProtocol(stripKeyFromInfuraUrl(item.url)))},renderTooltip:function(item,isList){var url=stripKeyFromInfuraUrl(item.url);return url.length>(isList?37:35)?url:void 0},addButtonText:t("addRpcUrl"),itemIsDeletable:function(item){return item.type!==NetworkController.ZE.Infura},onItemAdd:onRpcAdd,onItemSelected:function(index){return setRpcUrls(function(state){return _object_spread_props(networks_form_object_spread({},state),{defaultRpcEndpointIndex:index})})},onItemDeleted:function(deletedIndex,newSelectedIndex){var _rpcUrls_rpcEndpoints;setRpcUrls({rpcEndpoints:null===(_rpcUrls_rpcEndpoints=rpcUrls.rpcEndpoints)||void 0===_rpcUrls_rpcEndpoints?void 0:_rpcUrls_rpcEndpoints.slice(0,deletedIndex).concat(rpcUrls.rpcEndpoints.slice(deletedIndex+1)),defaultRpcEndpointIndex:newSelectedIndex})}}),(null===(_errors_rpcUrl=errors.rpcUrl)||void 0===_errors_rpcUrl?void 0:_errors_rpcUrl.msg)&&react.createElement(component_library.az,null,react.createElement(component_library.$9,{variant:design_system.J3.bodySm,severity:component_library.er.Danger,"data-testid":"network-form-chain-id-error"},null===(_errors_rpcUrl1=errors.rpcUrl)||void 0===_errors_rpcUrl1?void 0:_errors_rpcUrl1.msg)),react.createElement(component_library.YJ,{id:"chainId",size:component_library.dY.Lg,placeholder:t("enterChainId"),paddingTop:4,"data-testid":"network-form-chain-id-input",onChange:function(e){var _e_target;setChainId(null===(_e_target=e.target)||void 0===_e_target?void 0:_e_target.value.trim())},error:!!(null==errors?void 0:errors.chainId),label:t("chainId"),labelProps:{children:void 0,variant:design_system.J3.bodyMdMedium},textFieldProps:{borderRadius:design_system.Z6.LG},inputProps:{"data-testid":"network-form-chain-id"},value:chainId,disabled:!!existingNetwork}),(null===(_errors_chainId=errors.chainId)||void 0===_errors_chainId?void 0:_errors_chainId.msg)?react.createElement(component_library.$9,{variant:design_system.J3.bodySm,severity:component_library.er.Danger,"data-testid":"network-form-chain-id-error"},errors.chainId.msg):null,(null===(_errors_chainId1=errors.chainId)||void 0===_errors_chainId1?void 0:_errors_chainId1.key)==="existingChainId"?react.createElement(component_library.az,null,react.createElement(component_library.$9,{variant:design_system.J3.bodySm,severity:component_library.er.Danger,"data-testid":"network-form-chain-id-error"},t("updateOrEditNetworkInformations")," ",react.createElement(component_library.vx,{as:"button",variant:design_system.J3.bodySm,color:design_system.r7.primaryDefault,onClick:function(){var chainIdHex=toHex(chainId);chainIdHex&&dispatch((0,actions.setEditedNetwork)({chainId:chainIdHex}))}},t("editNetworkLink")))):null,react.createElement(component_library.YJ,{id:"nativeCurrency",size:component_library.dY.Lg,placeholder:t("enterSymbol"),paddingTop:4,"data-testid":"network-form-ticker",helpText:suggestedTicker?react.createElement(component_library.EY,{as:"span",variant:design_system.J3.bodySm,color:design_system.r7.textDefault,"data-testid":"network-form-ticker-suggestion"},t("suggestedCurrencySymbol"),react.createElement(component_library.vx,{as:"button",variant:design_system.J3.bodySm,color:design_system.r7.primaryDefault,onClick:function(){setTicker(suggestedTicker)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},suggestedTicker)):null,onChange:function(e){var _e_target;setTicker(null===(_e_target=e.target)||void 0===_e_target?void 0:_e_target.value)},label:t("currencySymbol"),labelProps:{children:void 0,variant:design_system.J3.bodyMdMedium},textFieldProps:{borderRadius:design_system.Z6.LG},inputProps:{"data-testid":"network-form-ticker-input"},value:ticker}),ticker&&(null===(_warnings_ticker=warnings.ticker)||void 0===_warnings_ticker?void 0:_warnings_ticker.msg)?react.createElement(component_library.$9,{variant:design_system.J3.bodySm,severity:component_library.er.Warning,"data-testid":"network-form-ticker-warning"},warnings.ticker.msg):null,react.createElement(DropdownEditor,{title:t("blockExplorerUrl"),placeholder:t("addAUrl"),style:DropdownEditorStyle.BoxStyle,items:blockExplorers.blockExplorerUrls,itemKey:function(item){return"".concat(item)},selectedItemIndex:blockExplorers.defaultBlockExplorerUrlIndex,addButtonText:t("addBlockExplorerUrl"),onItemAdd:onBlockExplorerAdd,buttonDataTestId:"test-explorer-drop-down",onItemSelected:function(index){return setBlockExplorers(function(state){return _object_spread_props(networks_form_object_spread({},state),{defaultBlockExplorerUrlIndex:index})})},onItemDeleted:function(deletedIndex,newSelectedIndex){var _blockExplorers_blockExplorerUrls;setBlockExplorers({blockExplorerUrls:null===(_blockExplorers_blockExplorerUrls=blockExplorers.blockExplorerUrls)||void 0===_blockExplorers_blockExplorerUrls?void 0:_blockExplorers_blockExplorerUrls.slice(0,deletedIndex).concat(blockExplorers.blockExplorerUrls.slice(deletedIndex+1)),defaultBlockExplorerUrlIndex:newSelectedIndex})},onDropdownOpened:function(){scrollableRef.current&&(scrollableRef.current.scrollTop=scrollableRef.current.scrollHeight)},renderItem:function(item){return react.createElement(component_library.EY,{as:"button",paddingLeft:0,paddingRight:0,paddingTop:3,paddingBottom:3,color:design_system.r7.textDefault,variant:design_system.J3.bodyMd,backgroundColor:design_system.i0.transparent,ellipsis:!0},stripProtocol(item))},renderTooltip:function(item){return item.length>36?item:void 0}})),react.createElement(component_library.az,{className:"networks-tab__network-form__footer",backgroundColor:design_system.i0.backgroundDefault,padding:4,width:design_system.Zf.Full},react.createElement(component_library.$$,{disabled:!name||!chainId||!ticker||!(null==rpcUrls?void 0:null===(_rpcUrls_rpcEndpoints=rpcUrls.rpcEndpoints)||void 0===_rpcUrls_rpcEndpoints?void 0:_rpcUrls_rpcEndpoints.length)||Object.values(errors).some(function(e){return e}),onClick:onSubmit,size:component_library.w9.Lg,width:design_system.Zf.Full},t("save"))))};function toHex(value){return(0,hex.Ky)(value)?value:RegExp("^\\d+$","u").test(value)?"0x".concat((0,conversion_utils.Ao)(value)):void 0}try{NetworksForm.displayName="NetworksForm",NetworksForm.__docgenInfo={description:"",displayName:"NetworksForm",props:{networkFormState:{defaultValue:null,description:"",name:"networkFormState",required:!0,type:{name:"{ name: string; setName: Dispatch<SetStateAction<string>>; chainId: string; setChainId: Dispatch<SetStateAction<string>>; ticker: string; ... 5 more ...; clear: () => void; }"}},existingNetwork:{defaultValue:null,description:"",name:"existingNetwork",required:!1,type:{name:"UpdateNetworkFields"}},onRpcAdd:{defaultValue:null,description:"",name:"onRpcAdd",required:!0,type:{name:"() => void"}},onBlockExplorerAdd:{defaultValue:null,description:"",name:"onBlockExplorerAdd",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/settings/networks-tab/networks-form/networks-form.tsx#NetworksForm"]={docgenInfo:NetworksForm.__docgenInfo,name:"NetworksForm",path:"ui/pages/settings/networks-tab/networks-form/networks-form.tsx#NetworksForm"})}catch(__react_docgen_typescript_loader_error){}try{networksform.displayName="networksform",networksform.__docgenInfo={description:"",displayName:"networksform",props:{networkFormState:{defaultValue:null,description:"",name:"networkFormState",required:!0,type:{name:"{ name: string; setName: Dispatch<SetStateAction<string>>; chainId: string; setChainId: Dispatch<SetStateAction<string>>; ticker: string; ... 5 more ...; clear: () => void; }"}},existingNetwork:{defaultValue:null,description:"",name:"existingNetwork",required:!1,type:{name:"UpdateNetworkFields"}},onRpcAdd:{defaultValue:null,description:"",name:"onRpcAdd",required:!0,type:{name:"() => void"}},onBlockExplorerAdd:{defaultValue:null,description:"",name:"onBlockExplorerAdd",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/settings/networks-tab/networks-form/networks-form.tsx#networksform"]={docgenInfo:networksform.__docgenInfo,name:"networksform",path:"ui/pages/settings/networks-tab/networks-form/networks-form.tsx#networksform"})}catch(__react_docgen_typescript_loader_error){}function networks_form_state_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function networks_form_state_array_with_holes(arr){if(Array.isArray(arr))return arr}function networks_form_state_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function networks_form_state_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function networks_form_state_sliced_to_array(arr,i){return networks_form_state_array_with_holes(arr)||networks_form_state_iterable_to_array_limit(arr,i)||networks_form_state_unsupported_iterable_to_array(arr,i)||networks_form_state_non_iterable_rest()}function networks_form_state_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return networks_form_state_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return networks_form_state_array_like_to_array(o,minLen)}}var useNetworkFormState=function(existingNetwork){var _useState=networks_form_state_sliced_to_array((0,react.useState)(""),2),name=_useState[0],setName=_useState[1],_useState1=networks_form_state_sliced_to_array((0,react.useState)(""),2),chainId=_useState1[0],setChainId=_useState1[1],_useState2=networks_form_state_sliced_to_array((0,react.useState)(""),2),ticker=_useState2[0],setTicker=_useState2[1],_useState3=networks_form_state_sliced_to_array((0,react.useState)({rpcEndpoints:[],defaultRpcEndpointIndex:void 0}),2),rpcUrls=_useState3[0],setRpcUrls=_useState3[1],_useState4=networks_form_state_sliced_to_array((0,react.useState)({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:void 0}),2),blockExplorers=_useState4[0],setBlockExplorers=_useState4[1];return(0,react.useEffect)(function(){var _existingNetwork_name,_existingNetwork_nativeCurrency,_existingNetwork_rpcEndpoints,_existingNetwork_blockExplorerUrls;setName(null!==(_existingNetwork_name=null==existingNetwork?void 0:existingNetwork.name)&&void 0!==_existingNetwork_name?_existingNetwork_name:""),setChainId(existingNetwork?(0,conversion_utils.I0)(existingNetwork.chainId):""),setTicker(null!==(_existingNetwork_nativeCurrency=null==existingNetwork?void 0:existingNetwork.nativeCurrency)&&void 0!==_existingNetwork_nativeCurrency?_existingNetwork_nativeCurrency:""),setRpcUrls({rpcEndpoints:null!==(_existingNetwork_rpcEndpoints=null==existingNetwork?void 0:existingNetwork.rpcEndpoints)&&void 0!==_existingNetwork_rpcEndpoints?_existingNetwork_rpcEndpoints:[],defaultRpcEndpointIndex:null==existingNetwork?void 0:existingNetwork.defaultRpcEndpointIndex}),setBlockExplorers({blockExplorerUrls:null!==(_existingNetwork_blockExplorerUrls=null==existingNetwork?void 0:existingNetwork.blockExplorerUrls)&&void 0!==_existingNetwork_blockExplorerUrls?_existingNetwork_blockExplorerUrls:[],defaultBlockExplorerUrlIndex:null==existingNetwork?void 0:existingNetwork.defaultBlockExplorerUrlIndex})},[null==existingNetwork?void 0:existingNetwork.chainId]),{name:name,setName:setName,chainId:chainId,setChainId:setChainId,ticker:ticker,setTicker:setTicker,rpcUrls:rpcUrls,setRpcUrls:setRpcUrls,blockExplorers:blockExplorers,setBlockExplorers:setBlockExplorers,clear:function(){setName(""),setChainId(""),setTicker(""),setRpcUrls({rpcEndpoints:[],defaultRpcEndpointIndex:void 0}),setBlockExplorers({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:void 0})}}},utils_window=__webpack_require__("./ui/helpers/utils/window.ts"),trace=__webpack_require__("./shared/lib/trace.ts"),popular_network_list=__webpack_require__("./ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx");let network_list_search=function(param){var searchQuery=param.searchQuery,setSearchQuery=param.setSearchQuery,setFocusSearch=param.setFocusSearch,t=(0,useI18nContext.P)();return react.createElement(component_library.az,{paddingLeft:4,paddingRight:4,paddingBottom:2,paddingTop:0},react.createElement(component_library.mp,{size:component_library.z8.Lg,width:design_system.Zf.Full,placeholder:t("search"),autoFocus:!0,value:searchQuery,onFocus:function(){return setFocusSearch(!0)},onBlur:function(){return setFocusSearch(!1)},onChange:function(e){return setSearchQuery(e.target.value)},clearButtonOnClick:function(){return setSearchQuery("")},clearButtonProps:{size:component_library.f3.Sm},inputProps:{"data-testid":"network-redesign-modal-search-input"},borderRadius:design_system.Z6.MD,"data-testid":"search-list"}))};try{networklistsearch.displayName="networklistsearch",networklistsearch.__docgenInfo={description:"",displayName:"networklistsearch",props:{searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"string"}},setSearchQuery:{defaultValue:null,description:"",name:"setSearchQuery",required:!0,type:{name:"(query: string) => void"}},setFocusSearch:{defaultValue:null,description:"",name:"setFocusSearch",required:!0,type:{name:"(val: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/network-list-search/network-list-search.tsx#networklistsearch"]={docgenInfo:networklistsearch.__docgenInfo,name:"networklistsearch",path:"ui/components/multichain/network-list-menu/network-list-search/network-list-search.tsx#networklistsearch"})}catch(__react_docgen_typescript_loader_error){}var util=__webpack_require__("./app/scripts/lib/util.ts");function add_rpc_url_modal_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function add_rpc_url_modal_array_with_holes(arr){if(Array.isArray(arr))return arr}function add_rpc_url_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function add_rpc_url_modal_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){add_rpc_url_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){add_rpc_url_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function add_rpc_url_modal_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function add_rpc_url_modal_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function add_rpc_url_modal_sliced_to_array(arr,i){return add_rpc_url_modal_array_with_holes(arr)||add_rpc_url_modal_iterable_to_array_limit(arr,i)||add_rpc_url_modal_unsupported_iterable_to_array(arr,i)||add_rpc_url_modal_non_iterable_rest()}function add_rpc_url_modal_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return add_rpc_url_modal_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return add_rpc_url_modal_array_like_to_array(o,minLen)}}function add_rpc_url_modal_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}let add_rpc_url_modal=function(param){var onAdded=param.onAdded,t=(0,useI18nContext.P)(),_useState=add_rpc_url_modal_sliced_to_array((0,react.useState)(),2),url=_useState[0],setUrl=_useState[1],_useState1=add_rpc_url_modal_sliced_to_array((0,react.useState)(),2),error=_useState1[0],setError=_useState1[1],nameRef=(0,react.useRef)(null);return(0,react.useEffect)(function(){url&&!(0,util.O9)(url)?setError((0,util.O9)("https://".concat(url))?t("urlErrorMsg"):t("invalidRPC")):setError(void 0)},[url]),react.createElement(component_library.az,{className:"add-rpc-modal",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.spaceBetween,height:design_system.Zf.Full},react.createElement(component_library.az,{paddingTop:4,paddingLeft:4,paddingRight:4},react.createElement(component_library.YJ,{id:"rpcUrl",size:component_library.dY.Lg,error:!!error,label:t("rpcUrl"),placeholder:t("enterRpcUrl"),textFieldProps:{borderRadius:design_system.Z6.LG},labelProps:{children:void 0,variant:design_system.J3.bodyMdMedium},inputProps:{"data-testid":"rpc-url-input-test"},onChange:function(e){return setUrl(e.target.value)},autoFocus:!0}),error&&react.createElement(component_library.$9,{severity:component_library.er.Danger},error),react.createElement(component_library.YJ,{id:"rpcName",size:component_library.dY.Lg,inputProps:{"data-testid":"rpc-name-input-test"},placeholder:t("enterANameToIdentifyTheUrl"),paddingTop:4,inputRef:nameRef,label:t("rpcNameOptional"),textFieldProps:{borderRadius:design_system.Z6.LG},labelProps:{children:void 0,variant:design_system.J3.bodyMdMedium}})),react.createElement(component_library.az,{className:"add-rpc-modal__footer",backgroundColor:design_system.i0.backgroundDefault,padding:4,width:design_system.Zf.Full},react.createElement(component_library.$$,{width:design_system.Zf.Full,disabled:!!error,size:component_library.w9.Lg,onClick:add_rpc_url_modal_async_to_generator(function(){return add_rpc_url_modal_ts_generator(this,function(_state){return url&&!error&&nameRef.current&&onAdded(url,nameRef.current.value||void 0),[2]})})},t("addUrl"))))};try{addrpcurlmodal.displayName="addrpcurlmodal",addrpcurlmodal.__docgenInfo={description:"",displayName:"addrpcurlmodal",props:{onAdded:{defaultValue:null,description:"",name:"onAdded",required:!0,type:{name:"(url: string, name?: string | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/add-rpc-url-modal/add-rpc-url-modal.tsx#addrpcurlmodal"]={docgenInfo:addrpcurlmodal.__docgenInfo,name:"addrpcurlmodal",path:"ui/components/multichain/network-list-menu/add-rpc-url-modal/add-rpc-url-modal.tsx#addrpcurlmodal"})}catch(__react_docgen_typescript_loader_error){}function select_rpc_url_modal_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function select_rpc_url_modal_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){select_rpc_url_modal_define_property(target,key,source[key])})}return target}function select_rpc_url_modal_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function select_rpc_url_modal_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):select_rpc_url_modal_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}var SelectRpcUrlModal=function(param){var networkConfiguration=param.networkConfiguration,onNetworkChange=param.onNetworkChange,dispatch=(0,es.wA)(),image=constants_network.Clc[networkConfiguration.chainId];return react.createElement(component_library.az,null,react.createElement(component_library.az,{display:design_system.nl.Flex},react.createElement(component_library.az,{margin:"auto",paddingTop:1,paddingBottom:8,display:design_system.nl.Flex,alignItems:design_system.k2.center},image&&react.createElement(component_library.Gn,{src:image,name:networkConfiguration.name,size:component_library.LM.Sm,marginRight:1}),react.createElement(component_library.EY,{variant:design_system.J3.bodySm,color:design_system.r7.textAlternative},networkConfiguration.name))),networkConfiguration.rpcEndpoints.map(function(rpcEndpoint,index){return react.createElement(component_library.az,{alignItems:design_system.k2.center,paddingLeft:4,paddingRight:4,display:design_system.nl.Flex,key:rpcEndpoint.url,onClick:function(){var network=select_rpc_url_modal_object_spread_props(select_rpc_url_modal_object_spread({},networkConfiguration),{defaultRpcEndpointIndex:index});dispatch((0,actions.updateNetwork)(network)),dispatch((0,actions.setEditedNetwork)()),onNetworkChange((0,utils.$l)(network.chainId))},className:classnames_default()("select-rpc-url__item",{"select-rpc-url__item--selected":index===networkConfiguration.defaultRpcEndpointIndex})},index===networkConfiguration.defaultRpcEndpointIndex&&react.createElement(component_library.az,{className:"select-rpc-url__item-selected-pill",borderRadius:design_system.Z6.pill,backgroundColor:design_system.i0.primaryDefault}),react.createElement(rpc_list_item,{rpcEndpoint:rpcEndpoint}))}))};try{SelectRpcUrlModal.displayName="SelectRpcUrlModal",SelectRpcUrlModal.__docgenInfo={description:"",displayName:"SelectRpcUrlModal",props:{networkConfiguration:{defaultValue:null,description:"",name:"networkConfiguration",required:!0,type:{name:"NetworkConfiguration"}},onNetworkChange:{defaultValue:null,description:"",name:"onNetworkChange",required:!0,type:{name:"(chainId: `${string}:${string}`) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/select-rpc-url-modal/select-rpc-url-modal.tsx#SelectRpcUrlModal"]={docgenInfo:SelectRpcUrlModal.__docgenInfo,name:"SelectRpcUrlModal",path:"ui/components/multichain/network-list-menu/select-rpc-url-modal/select-rpc-url-modal.tsx#SelectRpcUrlModal"})}catch(__react_docgen_typescript_loader_error){}try{selectrpcurlmodal.displayName="selectrpcurlmodal",selectrpcurlmodal.__docgenInfo={description:"",displayName:"selectrpcurlmodal",props:{networkConfiguration:{defaultValue:null,description:"",name:"networkConfiguration",required:!0,type:{name:"NetworkConfiguration"}},onNetworkChange:{defaultValue:null,description:"",name:"onNetworkChange",required:!0,type:{name:"(chainId: `${string}:${string}`) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/select-rpc-url-modal/select-rpc-url-modal.tsx#selectrpcurlmodal"]={docgenInfo:selectrpcurlmodal.__docgenInfo,name:"selectrpcurlmodal",path:"ui/components/multichain/network-list-menu/select-rpc-url-modal/select-rpc-url-modal.tsx#selectrpcurlmodal"})}catch(__react_docgen_typescript_loader_error){}function add_block_explorer_modal_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function add_block_explorer_modal_array_with_holes(arr){if(Array.isArray(arr))return arr}function add_block_explorer_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function add_block_explorer_modal_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){add_block_explorer_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){add_block_explorer_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function add_block_explorer_modal_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function add_block_explorer_modal_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function add_block_explorer_modal_sliced_to_array(arr,i){return add_block_explorer_modal_array_with_holes(arr)||add_block_explorer_modal_iterable_to_array_limit(arr,i)||add_block_explorer_modal_unsupported_iterable_to_array(arr,i)||add_block_explorer_modal_non_iterable_rest()}function add_block_explorer_modal_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return add_block_explorer_modal_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return add_block_explorer_modal_array_like_to_array(o,minLen)}}function add_block_explorer_modal_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}let add_block_explorer_modal=function(param){var onAdded=param.onAdded,t=(0,useI18nContext.P)(),_useState=add_block_explorer_modal_sliced_to_array((0,react.useState)(),2),url=_useState[0],setUrl=_useState[1],_useState1=add_block_explorer_modal_sliced_to_array((0,react.useState)(),2),error=_useState1[0],setError=_useState1[1];return(0,react.useEffect)(function(){url&&(null==url?void 0:url.length)>0&&!(0,util.O9)(url)?setError(t("urlErrorMsg")):setError(void 0)},[url]),react.createElement(component_library.az,{className:"add-block-explorer-modal",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.spaceBetween,height:design_system.Zf.Full},react.createElement(component_library.az,{paddingLeft:4,paddingRight:4},react.createElement(component_library.YJ,{size:component_library.dY.Lg,textFieldProps:{borderRadius:design_system.Z6.LG},error:!!error,id:"additional-rpc-url",label:t("blockExplorerUrl"),inputProps:{"data-testid":"explorer-url-input"},labelProps:{children:void 0,variant:design_system.J3.bodyMdMedium},onChange:function(e){return setUrl(e.target.value)},autoFocus:!0}),error&&react.createElement(component_library.$9,{severity:component_library.er.Danger},error)),react.createElement(component_library.az,{className:"add-block-explorer-modal__footer",backgroundColor:design_system.i0.backgroundDefault,padding:4,width:design_system.Zf.Full},react.createElement(component_library.$$,{width:design_system.Zf.Full,disabled:!!error,size:component_library.w9.Lg,onClick:add_block_explorer_modal_async_to_generator(function(){return add_block_explorer_modal_ts_generator(this,function(_state){return url&&onAdded(url),[2]})})},t("addUrl"))))};try{addblockexplorermodal.displayName="addblockexplorermodal",addblockexplorermodal.__docgenInfo={description:"",displayName:"addblockexplorermodal",props:{onAdded:{defaultValue:null,description:"",name:"onAdded",required:!0,type:{name:"(url: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/add-block-explorer-modal/add-block-explorer-modal.tsx#addblockexplorermodal"]={docgenInfo:addblockexplorermodal.__docgenInfo,name:"addblockexplorermodal",path:"ui/components/multichain/network-list-menu/add-block-explorer-modal/add-block-explorer-modal.tsx#addblockexplorermodal"})}catch(__react_docgen_typescript_loader_error){}var create_snap_account=__webpack_require__("./ui/components/multichain/create-snap-account/index.ts"),srp_list=__webpack_require__("./ui/components/multichain/multi-srp/srp-list/index.ts");function add_non_evm_account_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function add_non_evm_account_array_with_holes(arr){if(Array.isArray(arr))return arr}function add_non_evm_account_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function add_non_evm_account_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){add_non_evm_account_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){add_non_evm_account_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function add_non_evm_account_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function add_non_evm_account_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function add_non_evm_account_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function add_non_evm_account_sliced_to_array(arr,i){return add_non_evm_account_array_with_holes(arr)||add_non_evm_account_iterable_to_array_limit(arr,i)||add_non_evm_account_unsupported_iterable_to_array(arr,i)||add_non_evm_account_non_iterable_rest()}function add_non_evm_account_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return add_non_evm_account_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return add_non_evm_account_array_like_to_array(o,minLen)}}function add_non_evm_account_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}var SNAP_CLIENT_CONFIG_MAP=(add_non_evm_account_define_property(_obj={},networks.AF.BITCOIN,{clientType:useMultichainWalletSnapClient.pF.Bitcoin,chainId:networks.AF.BITCOIN}),add_non_evm_account_define_property(_obj,networks.AF.BITCOIN_TESTNET,{clientType:useMultichainWalletSnapClient.pF.Bitcoin,chainId:networks.AF.BITCOIN_TESTNET}),add_non_evm_account_define_property(_obj,networks.AF.BITCOIN_SIGNET,{clientType:useMultichainWalletSnapClient.pF.Bitcoin,chainId:networks.AF.BITCOIN_SIGNET}),add_non_evm_account_define_property(_obj,networks.AF.SOLANA,{clientType:useMultichainWalletSnapClient.pF.Solana,chainId:networks.AF.SOLANA}),add_non_evm_account_define_property(_obj,networks.AF.SOLANA_TESTNET,{clientType:useMultichainWalletSnapClient.pF.Solana,chainId:networks.AF.SOLANA_TESTNET}),add_non_evm_account_define_property(_obj,networks.AF.SOLANA_DEVNET,{clientType:useMultichainWalletSnapClient.pF.Solana,chainId:networks.AF.SOLANA_DEVNET}),_obj);let add_non_evm_account=function(param){var _ref,chainId=param.chainId,t=(0,useI18nContext.P)(),dispatch=(0,es.wA)(),primaryKeyring=add_non_evm_account_sliced_to_array((0,es.d4)(selectors.Qv$),1)[0],_React_useState=add_non_evm_account_sliced_to_array(react.useState(!1),2),showSrpSelection=_React_useState[0],setShowSrpSelection=_React_useState[1],_React_useState1=add_non_evm_account_sliced_to_array(react.useState(!1),2),showCreateAccount=_React_useState1[0],setShowCreateAccount=_React_useState1[1],_React_useState2=add_non_evm_account_sliced_to_array(react.useState(primaryKeyring.metadata.id),2),selectedKeyringId=_React_useState2[0],setSelectedKeyringId=_React_useState2[1],handleActionComplete=(0,react.useCallback)((_ref=add_non_evm_account_async_to_generator(function(confirmed){return add_non_evm_account_ts_generator(this,function(_state){return confirmed?dispatch((0,actions.toggleNetworkMenu)()):setShowCreateAccount(!1),[2]})}),function(confirmed){return _ref.apply(this,arguments)}),[dispatch]),handleSelectSrp=(0,react.useCallback)(function(){setShowSrpSelection(!0),setShowCreateAccount(!1)},[]),handleSrpActionComplete=(0,react.useCallback)(function(keyringId){setSelectedKeyringId(keyringId),setShowCreateAccount(!0)},[]),handleAddAccount=(0,react.useCallback)(function(){setShowCreateAccount(!0)},[]),_ref1=SNAP_CLIENT_CONFIG_MAP[chainId]||{clientType:null,chainId:null},clientType=_ref1.clientType,mappedChainId=_ref1.chainId;return showCreateAccount&&clientType&&mappedChainId?react.createElement(component_library.az,{className:"add-non-evm-account-modal",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.spaceBetween},react.createElement(component_library.az,{paddingLeft:4,paddingRight:4,paddingBottom:4},react.createElement(create_snap_account.Q,{onActionComplete:handleActionComplete,selectedKeyringId:selectedKeyringId,onSelectSrp:handleSelectSrp,clientType:clientType,chainId:mappedChainId}))):showSrpSelection?react.createElement(component_library.az,{className:"add-non-evm-account-modal",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.spaceBetween},react.createElement(srp_list.y,{onActionComplete:handleSrpActionComplete})):react.createElement(component_library.az,{className:"add-non-evm-account-modal",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,justifyContent:design_system.A9.spaceBetween},react.createElement(component_library.az,{paddingLeft:4,paddingRight:4},react.createElement(component_library.EY,{textAlign:design_system.nO.Left,variant:design_system.J3.bodyMd},t("addNonEvmAccountFromNetworkPicker",[networks.F7[chainId],networks.nS[chainId]]))),react.createElement(component_library.az,{className:"add-non-evm-account-modal__footer",padding:4,width:design_system.Zf.Full},react.createElement(component_library.$$,{width:design_system.Zf.Full,size:component_library.w9.Lg,onClick:handleAddAccount},t("addAccount"))))};try{addnonevmaccount.displayName="addnonevmaccount",addnonevmaccount.__docgenInfo={description:"",displayName:"addnonevmaccount",props:{chainId:{defaultValue:null,description:"",name:"chainId",required:!0,type:{name:"`${string}:${string}`"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account.tsx#addnonevmaccount"]={docgenInfo:addnonevmaccount.__docgenInfo,name:"addnonevmaccount",path:"ui/components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account.tsx#addnonevmaccount"})}catch(__react_docgen_typescript_loader_error){}function network_list_menu_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function network_list_menu_array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return network_list_menu_array_like_to_array(arr)}function network_list_menu_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function network_list_menu_async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){network_list_menu_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){network_list_menu_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function network_list_menu_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function network_list_menu_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function network_list_menu_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function network_list_menu_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){network_list_menu_define_property(target,key,source[key])})}return target}function network_list_menu_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function network_list_menu_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):network_list_menu_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function network_list_menu_sliced_to_array(arr,i){return network_list_menu_array_with_holes(arr)||network_list_menu_iterable_to_array_limit(arr,i)||network_list_menu_unsupported_iterable_to_array(arr,i)||network_list_menu_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||network_list_menu_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function network_list_menu_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return network_list_menu_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return network_list_menu_array_like_to_array(o,minLen)}}function network_list_menu_ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}!function(ACTION_MODE){ACTION_MODE[ACTION_MODE.LIST=0]="LIST",ACTION_MODE[ACTION_MODE.ADD_EDIT=1]="ADD_EDIT",ACTION_MODE[ACTION_MODE.ADD_RPC=2]="ADD_RPC",ACTION_MODE[ACTION_MODE.ADD_EXPLORER_URL=3]="ADD_EXPLORER_URL",ACTION_MODE[ACTION_MODE.SELECT_RPC=4]="SELECT_RPC",ACTION_MODE[ACTION_MODE.ADD_NON_EVM_ACCOUNT=5]="ADD_NON_EVM_ACCOUNT"}(ACTION_MODE||(ACTION_MODE={}));var NetworkListMenu=function(param){var _ref,_ref1,_useSelector1,title,_editedNetwork_name,onBack,onClose=param.onClose,t=(0,useI18nContext.P)(),dispatch=(0,es.wA)(),trackEvent=(0,react.useContext)(metametrics.O2),hasAnyAccountsInNetwork=useAccountCreationOnNetworkChange().hasAnyAccountsInNetwork,tokenNetworkFilter=(0,es.d4)(selectors.lX9).tokenNetworkFilter,showTestnets=(0,es.d4)(selectors.rlZ),selectedTabOrigin=(0,es.d4)(selectors.wNl),isUnlocked=(0,es.d4)(metamask.QA),domains=(0,es.d4)(selectors.$St),orderedNetworksList=(0,es.d4)(selectors.tBM),isAddingNewNetwork=(0,es.d4)(selectors.QkP),isMultiRpcOnboarding=(0,es.d4)(selectors.Wxi),completedOnboarding=(0,es.d4)(metamask.HB),onboardedInThisUISession=(0,es.d4)(selectors.a5o),showNetworkBanner=(0,es.d4)(selectors.K97),isPortfolioDiscoverButtonEnabled=(0,es.d4)(selectors.XIt),_useSelector=network_list_menu_sliced_to_array((0,es.d4)(selectors.lIu),2),multichainNetworks=_useSelector[0],evmNetworks=_useSelector[1],currentChainId=(0,es.d4)(selectors.G1D),_ref2=null!==(_useSelector1=(0,es.d4)(selectors.Ib4))&&void 0!==_useSelector1?_useSelector1:{},editingChainId=_ref2.chainId,editCompleted=_ref2.editCompleted,permittedChainIds=(0,es.d4)(function(state){return(0,selectors.S9k)(state,selectedTabOrigin)}),permittedAccountAddresses=(0,es.d4)(function(state){return(0,selectors.GYn)(state,selectedTabOrigin)}),allChainIds=(0,es.d4)(selectors.ERb);(0,react.useEffect)(function(){(0,trace.t7)({name:trace.dg.NetworkList})},[]);var currentlyOnTestnet=(0,react.useMemo)(function(){return(0,caip_types.rW)(currentChainId).namespace===caip_types.wV.Eip155&&constants_network.YPx.includes((0,network_utils.ph)(currentChainId))},[currentChainId]),_useMemo=network_list_menu_sliced_to_array((0,react.useMemo)(function(){return Object.entries(multichainNetworks).reduce(function(param,param1){var _param=network_list_menu_sliced_to_array(param,2),nonTestnetsList=_param[0],testnetsList=_param[1],_param1=network_list_menu_sliced_to_array(param1,2),id=_param1[0],network=_param1[1],chainId=id,isTest=!1;return network.isEvm?(chainId=(0,network_utils.ph)(network.chainId),isTest=constants_network.YPx.includes(chainId)):isTest=constants.mk.includes(network.chainId),(isTest?testnetsList:nonTestnetsList)[chainId]=network,[nonTestnetsList,testnetsList]},[{},{}])},[multichainNetworks]),2),nonTestNetworks=_useMemo[0],testNetworks=_useMemo[1],editedNetwork=(0,react.useMemo)(function(){var _Object_entries_find;return!editingChainId||editCompleted?void 0:null===(_Object_entries_find=Object.entries(evmNetworks).find(function(param){return network_list_menu_sliced_to_array(param,1)[0]===editingChainId}))||void 0===_Object_entries_find?void 0:_Object_entries_find[1]},[editingChainId,editCompleted,evmNetworks]),_useState=network_list_menu_sliced_to_array((0,react.useState)(isAddingNewNetwork||editedNetwork?1:0),2),actionMode=_useState[0],setActionMode=_useState[1],networkFormState=useNetworkFormState(editedNetwork),rpcUrls=networkFormState.rpcUrls,setRpcUrls=networkFormState.setRpcUrls,blockExplorers=networkFormState.blockExplorers,setBlockExplorers=networkFormState.setBlockExplorers,_useState1=network_list_menu_sliced_to_array((0,react.useState)((0,network_utils.SH)(nonTestNetworks,orderedNetworksList)),2),orderedNetworks=_useState1[0],setOrderedNetworks=_useState1[1];(0,react.useEffect)(function(){return setOrderedNetworks((0,network_utils.SH)(nonTestNetworks,orderedNetworksList))},[nonTestNetworks,orderedNetworksList]);var onDragEnd=function(result){if(result.destination){var newOrderedNetworks=_to_consumable_array(orderedNetworks),removed=network_list_menu_sliced_to_array(newOrderedNetworks.splice(result.source.index,1),1)[0];newOrderedNetworks.splice(result.destination.index,0,removed),dispatch((0,actions.updateNetworksList)(newOrderedNetworks.map(function(n){return n.chainId}))),setOrderedNetworks(newOrderedNetworks)}},featuredNetworksNotYetEnabled=(0,react.useMemo)(function(){return constants_network.Kqv.filter(function(param){return!evmNetworks[param.chainId]}).sort(function(a,b){return a.name.localeCompare(b.name)})},[evmNetworks]),_useState2=network_list_menu_sliced_to_array((0,react.useState)(),2),selectedNonEvmNetwork=_useState2[0],setSelectedNonEvmNetwork=_useState2[1],_useState3=network_list_menu_sliced_to_array((0,react.useState)(""),2),searchQuery=_useState3[0],setSearchQuery=_useState3[1],_useState4=network_list_menu_sliced_to_array((0,react.useState)(!1),2),focusSearch=_useState4[0],setFocusSearch=_useState4[1],searchNetworks=function(networks,query){return""===searchQuery?networks:new(fuse_default())(networks,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,shouldSort:!1,keys:["name","chainId","nativeCrrency"]}).search(query)},searchedEnabledNetworks=searchNetworks(orderedNetworks,searchQuery),searchedFeaturedNetworks=searchNetworks(featuredNetworksNotYetEnabled,searchQuery),searchedTestNetworks=searchNetworks(Object.values(testNetworks),searchQuery),sortedTestNetworks=(0,react.useMemo)(function(){return(0,network_utils.dV)(searchedTestNetworks,[(0,utils.$l)(types.nU.sepolia),(0,utils.$l)(types.nU["linea-sepolia"])])},[searchedTestNetworks]),handleEvmNetworkChange=function(chainId){var hexChainId=(0,network_utils.ph)(chainId),networkClientId=(0,network_utils.Dl)(chainId,evmNetworks).defaultRpcEndpoint.networkClientId;if(dispatch((0,actions.setActiveNetwork)(networkClientId)),dispatch((0,actions.updateCustomNonce)("")),dispatch((0,actions.setNextNonce)("")),dispatch((0,actions.detectNfts)(allChainIds)),dispatch((0,actions.toggleNetworkMenu)()),Object.keys(tokenNetworkFilter||{}).length<=1)dispatch((0,actions.setTokenNetworkFilter)(network_list_menu_define_property({},hexChainId,!0)));else{var allOpts=Object.keys(evmNetworks).reduce(function(acc,id){return acc[id]=!0,acc},{});dispatch((0,actions.setTokenNetworkFilter)(allOpts))}selectedTabOrigin&&domains[selectedTabOrigin]&&(0,actions.setNetworkClientIdForDomain)(selectedTabOrigin,networkClientId),permittedAccountAddresses.length>0&&(dispatch((0,actions.addPermittedChain)(selectedTabOrigin,chainId)),permittedChainIds.includes(hexChainId)||dispatch((0,actions.showPermittedNetworkToast)()))},handleNonEvmNetworkChange=(_ref=network_list_menu_async_to_generator(function(chainId){return network_list_menu_ts_generator(this,function(_state){return hasAnyAccountsInNetwork(chainId)?(dispatch((0,actions.toggleNetworkMenu)()),dispatch((0,actions.setActiveNetwork)(chainId))):(setSelectedNonEvmNetwork(chainId),setActionMode(5)),[2]})}),function handleNonEvmNetworkChange(chainId){return _ref.apply(this,arguments)}),getMultichainNetworkConfigurationOrThrow=function(chainId){var network=multichainNetworks[chainId];if(!network)throw Error("Network configuration not found for chainId: ".concat(chainId));return network},handleNetworkChange=(_ref1=network_list_menu_async_to_generator(function(chainId){var currentChain,chain,chainIdToTrack,currentChainIdToTrack;return network_list_menu_ts_generator(this,function(_state){switch(_state.label){case 0:if(currentChain=getMultichainNetworkConfigurationOrThrow(currentChainId),!(chain=getMultichainNetworkConfigurationOrThrow(chainId)).isEvm)return[3,1];return handleEvmNetworkChange(chainId),[3,3];case 1:return[4,handleNonEvmNetworkChange(chainId)];case 2:_state.sent(),_state.label=3;case 3:return chainIdToTrack=chain.isEvm?(0,network_utils.ph)(chainId):chainId,currentChainIdToTrack=currentChain.isEvm?(0,network_utils.ph)(currentChainId):currentChainId,trackEvent({event:constants_metametrics.gP.NavNetworkSwitched,category:constants_metametrics.FZ.Network,properties:{location:"Network Menu",chain_id:currentChainIdToTrack,from_network:currentChainIdToTrack,to_network:chainIdToTrack}}),[2]}})}),function handleNetworkChange(chainId){return _ref1.apply(this,arguments)}),isDiscoverBtnEnabled=(0,react.useCallback)(function(hexChainId){return isPortfolioDiscoverButtonEnabled&&void 0!==constants_network.c$[hexChainId]},[isPortfolioDiscoverButtonEnabled]),hasMultiRpcOptions=(0,react.useCallback)(function(network){return network.isEvm&&(0,network_utils.Dl)(network.chainId,evmNetworks).rpcEndpoints.length>1},[evmNetworks]),isNetworkEnabled=(0,react.useCallback)(function(network){return network.isEvm||isUnlocked||hasAnyAccountsInNetwork(network.chainId)},[hasAnyAccountsInNetwork,isUnlocked]),getItemCallbacks=(0,react.useCallback)(function(network){var chainId=network.chainId;if(!network.isEvm)return{};var hexChainId=(0,network_utils.ph)(chainId);return{onDelete:isUnlocked&&network.chainId!==currentChainId&&network.chainId!==dist.OO.Mainnet?function(){dispatch((0,actions.toggleNetworkMenu)()),dispatch((0,actions.showModal)({name:"CONFIRM_DELETE_NETWORK",target:hexChainId,onConfirm:function(){}}))}:void 0,onEdit:function(){dispatch((0,actions.setEditedNetwork)({chainId:hexChainId,nickname:network.name})),setActionMode(1)},onDiscoverClick:isDiscoverBtnEnabled(hexChainId)?function(){(0,utils_window.D)(constants_network.c$[hexChainId],"_blank")}:void 0,onRpcConfigEdit:hasMultiRpcOptions(network)?function(){setActionMode(4),dispatch((0,actions.setEditedNetwork)({chainId:hexChainId}))}:void 0}},[currentChainId,dispatch,hasMultiRpcOptions,isUnlocked,isDiscoverBtnEnabled]),generateMultichainNetworkListItem=function(network){var isCurrentNetwork=network.chainId===currentChainId,_getItemCallbacks=getItemCallbacks(network),onDelete=_getItemCallbacks.onDelete,onEdit=_getItemCallbacks.onEdit,onDiscoverClick=_getItemCallbacks.onDiscoverClick,onRpcConfigEdit=_getItemCallbacks.onRpcConfigEdit,iconSrc=(0,network_utils.C1)(network);return react.createElement(network_list_item._,{key:network.chainId,chainId:network.chainId,name:network.name,iconSrc:iconSrc,iconSize:component_library.LM.Sm,selected:isCurrentNetwork&&!focusSearch,focus:isCurrentNetwork&&!focusSearch,rpcEndpoint:hasMultiRpcOptions(network)?(0,network_utils.Dl)(network.chainId,evmNetworks).defaultRpcEndpoint:void 0,onClick:network_list_menu_async_to_generator(function(){return network_list_menu_ts_generator(this,function(_state){switch(_state.label){case 0:return[4,handleNetworkChange(network.chainId)];case 1:return _state.sent(),[2]}})}),onDeleteClick:onDelete,onEditClick:onEdit,onDiscoverClick:onDiscoverClick,onRpcEndpointClick:onRpcConfigEdit,disabled:!isNetworkEnabled(network)})};return title=0===actionMode?t("networkMenuHeading"):1!==actionMode||editedNetwork?2===actionMode?t("addRpcUrl"):3===actionMode?t("addBlockExplorerUrl"):4===actionMode?t("selectRpcUrl"):5===actionMode&&selectedNonEvmNetwork?t("addNonEvmAccount",[networks.nS[selectedNonEvmNetwork]]):null!==(_editedNetwork_name=null==editedNetwork?void 0:editedNetwork.name)&&void 0!==_editedNetwork_name?_editedNetwork_name:"":t("addACustomNetwork"),1===actionMode?onBack=function(){editedNetwork?dispatch((0,actions.setEditedNetwork)()):networkFormState.clear(),setActionMode(0)}:2===actionMode||3===actionMode?onBack=function(){return setActionMode(1)}:5===actionMode&&(onBack=function(){return setActionMode(0)}),isMultiRpcOnboarding&&(onBack=onClose),react.createElement(component_library.aF,{isOpen:!0,onClose:onClose},react.createElement(component_library.mH,null),react.createElement(component_library.$m,{padding:0,className:"multichain-network-list-menu-content-wrapper",modalDialogProps:{className:"multichain-network-list-menu-content-wrapper__dialog",display:design_system.nl.Flex,flexDirection:design_system.bo.Column,paddingTop:0,paddingBottom:0}},react.createElement(component_library.rQ,{paddingTop:4,paddingRight:4,paddingBottom:4===actionMode?0:4,onClose:onClose,onBack:onBack},react.createElement(component_library.EY,{ellipsis:!0,variant:design_system.J3.headingSm,textAlign:design_system.nO.Center},title)),0===actionMode?react.createElement(react.Fragment,null,react.createElement(component_library.az,{className:"multichain-network-list-menu"},react.createElement(network_list_search,{searchQuery:searchQuery,setSearchQuery:setSearchQuery,setFocusSearch:setFocusSearch}),completedOnboarding&&!onboardedInThisUISession&&showNetworkBanner&&!searchQuery&&react.createElement(component_library.CF,{marginLeft:4,marginRight:4,borderRadius:design_system.Z6.LG,padding:4,marginTop:2,gap:4,backgroundColor:design_system.i0.backgroundMuted,startAccessory:react.createElement(component_library.az,{display:design_system.nl.Flex,alignItems:design_system.k2.center,justifyContent:design_system.A9.center},react.createElement("img",{src:"./images/dragging-animation.svg",alt:"drag-and-drop"})),onClose:function(){return(0,actions.hideNetworkBanner)()},description:t("dragAndDropBanner")}),react.createElement(component_library.az,null,searchedEnabledNetworks.length>0&&react.createElement(component_library.az,{padding:4,display:design_system.nl.Flex,justifyContent:design_system.A9.spaceBetween},react.createElement(component_library.EY,{color:design_system.r7.textAlternative},t("enabledNetworks"))),0===searchedEnabledNetworks.length&&0===searchedFeaturedNetworks.length&&0===searchedTestNetworks.length&&focusSearch?react.createElement(component_library.EY,{paddingLeft:4,paddingRight:4,color:design_system.r7.textMuted,"data-testid":"multichain-network-menu-popover-no-results"},t("noNetworksFound")):react.createElement(react_beautiful_dnd_esm.JY,{onDragEnd:onDragEnd},react.createElement(react_beautiful_dnd_esm.gL,{droppableId:"characters"},function(provided){return react.createElement(component_library.az,network_list_menu_object_spread_props(network_list_menu_object_spread({className:"characters"},provided.droppableProps),{ref:provided.innerRef}),searchedEnabledNetworks.map(function(network,index){return react.createElement(react_beautiful_dnd_esm.sx,{key:network.chainId,draggableId:network.chainId,index:index},function(providedDrag){return react.createElement(component_library.az,network_list_menu_object_spread({ref:providedDrag.innerRef},providedDrag.draggableProps,providedDrag.dragHandleProps),generateMultichainNetworkListItem(network))})}),provided.placeholder)})),react.createElement(popular_network_list.A,{searchAddNetworkResults:searchedFeaturedNetworks,"data-testid":"add-popular-network-view"}),searchedTestNetworks.length>0?react.createElement(component_library.az,{paddingBottom:4,paddingTop:4,paddingLeft:4,display:design_system.nl.Flex,justifyContent:design_system.A9.spaceBetween},react.createElement(component_library.EY,{color:design_system.r7.textAlternative},t("showTestnetNetworks")),react.createElement(toggle_button.A,{value:showTestnets||currentlyOnTestnet,disabled:currentlyOnTestnet,onToggle:function(value){dispatch((0,actions.setShowTestNetworks)(!value)),value||trackEvent({event:constants_metametrics.gP.TestNetworksDisplayed,category:constants_metametrics.FZ.Network})}})):null,showTestnets||currentlyOnTestnet?react.createElement(component_library.az,{className:"multichain-network-list-menu"},sortedTestNetworks.map(function(network){return generateMultichainNetworkListItem(network)})):null)),react.createElement(component_library.az,{padding:4},react.createElement(component_library.nR,{size:component_library.S8.Lg,startIconName:component_library.$M.Add,startIconProps:{marginRight:2},block:!0,onClick:function(){trackEvent({event:constants_metametrics.gP.AddNetworkButtonClick,category:constants_metametrics.FZ.Network}),setActionMode(1)}},t("addACustomNetwork")))):1===actionMode?react.createElement(NetworksForm,{networkFormState:networkFormState,existingNetwork:editedNetwork,onRpcAdd:function(){return setActionMode(2)},onBlockExplorerAdd:function(){return setActionMode(3)}}):2===actionMode?react.createElement(add_rpc_url_modal,{onAdded:function(url,name){var _rpcUrls_rpcEndpoints;(null===(_rpcUrls_rpcEndpoints=rpcUrls.rpcEndpoints)||void 0===_rpcUrls_rpcEndpoints?void 0:_rpcUrls_rpcEndpoints.every(function(e){return!uri_all.equal(e.url,url)}))&&setRpcUrls({rpcEndpoints:_to_consumable_array(rpcUrls.rpcEndpoints).concat([{url:url,name:name,type:NetworkController.ZE.Custom}]),defaultRpcEndpointIndex:rpcUrls.rpcEndpoints.length}),setActionMode(1)}}):3===actionMode?react.createElement(add_block_explorer_modal,{onAdded:function(url){var _blockExplorers_blockExplorerUrls;(null===(_blockExplorers_blockExplorerUrls=blockExplorers.blockExplorerUrls)||void 0===_blockExplorers_blockExplorerUrls?void 0:_blockExplorers_blockExplorerUrls.every(function(u){return u!==url}))&&setBlockExplorers({blockExplorerUrls:_to_consumable_array(blockExplorers.blockExplorerUrls).concat([url]),defaultBlockExplorerUrlIndex:blockExplorers.blockExplorerUrls.length}),setActionMode(1)}}):4===actionMode&&editedNetwork?react.createElement(SelectRpcUrlModal,{networkConfiguration:evmNetworks[editedNetwork.chainId],onNetworkChange:handleEvmNetworkChange}):5===actionMode&&selectedNonEvmNetwork?react.createElement(add_non_evm_account,{chainId:selectedNonEvmNetwork}):null))};try{NetworkListMenu.displayName="NetworkListMenu",NetworkListMenu.__docgenInfo={description:"",displayName:"NetworkListMenu",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/network-list-menu.tsx#NetworkListMenu"]={docgenInfo:NetworkListMenu.__docgenInfo,name:"NetworkListMenu",path:"ui/components/multichain/network-list-menu/network-list-menu.tsx#NetworkListMenu"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/ui/toggle-button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _toggle_button_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/toggle-button/toggle-button.component.js");let __WEBPACK_DEFAULT_EXPORT__=_toggle_button_component__WEBPACK_IMPORTED_MODULE_0__.A;_toggle_button_component__WEBPACK_IMPORTED_MODULE_0__.A.__docgenInfo={description:"",methods:[],displayName:"ToggleButton",props:{value:{description:"ToggleButton value",type:{name:"bool"},required:!1},onToggle:{description:"The onChange handler of the ToggleButton",type:{name:"func"},required:!1},offLabel:{description:"Label text when toggle is off",type:{name:"string"},required:!1},onLabel:{description:"Label text when toggle is on",type:{name:"string"},required:!1},disabled:{description:"Disables ToggleButton if true. Set to false as default",type:{name:"bool"},required:!1},className:{description:"Additional className to add to the ToggleButton",type:{name:"string"},required:!1},dataTestId:{description:"A test id for the toggle button",type:{name:"string"},required:!1}}}},"./ui/components/ui/toggle-button/toggle-button.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_toggle_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-toggle-button/lib/index.js"),react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_toggle_button__WEBPACK_IMPORTED_MODULE_1__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@metamask/design-tokens/dist/index.mjs"),_hooks_useTheme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useTheme.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var trackStyle={width:"40px",height:"24px",padding:"0px",borderRadius:"26px",border:"none",display:"flex",alignItems:"center",justifyContent:"center"},offTrackStyle=function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}({},trackStyle),{border:"none"}),thumbStyle={width:"18px",height:"18px",display:"flex",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",alignSelf:"center",borderRadius:"50%",position:"relative"},colorsLight={activeThumb:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.primary.inverse},inactiveThumb:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.primary.inverse},active:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.primary.default,hover:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.primary.defaultHover},inactive:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.icon.muted,hover:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.icon.muted}},colorsDark={activeThumb:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.primary.inverse},inactiveThumb:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__._k.colors.primary.inverse},active:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__.a5.colors.primary.default,hover:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__.a5.colors.primary.defaultHover},inactive:{base:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__.a5.colors.icon.muted,hover:_metamask_design_tokens__WEBPACK_IMPORTED_MODULE_3__.a5.colors.icon.muted}},ToggleButton=function(props){var value=props.value,onToggle=props.onToggle,offLabel=props.offLabel,onLabel=props.onLabel,disabled=props.disabled,className=props.className,dataTestId=props.dataTestId,modifier=value?"on":"off",theme=(0,_hooks_useTheme__WEBPACK_IMPORTED_MODULE_4__.D)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{tabIndex:"0",onKeyDown:function(e){"Enter"===e.key&&onToggle(value)},className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("toggle-button","toggle-button--".concat(modifier),{"toggle-button--disabled":disabled},className)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default(),{value:value,onToggle:disabled?void 0:onToggle,activeLabel:"",inactiveLabel:"",trackStyle:value?trackStyle:offTrackStyle,thumbStyle:thumbStyle,thumbAnimateRange:[3,18],colors:"light"===theme?colorsLight:colorsDark,passThroughInputProps:{"data-testid":dataTestId}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"toggle-button__status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-off"},offLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-on"},onLabel)))};ToggleButton.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,offLabel:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,onLabel:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,dataTestId:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string};let __WEBPACK_DEFAULT_EXPORT__=ToggleButton;ToggleButton.__docgenInfo={description:"",methods:[],displayName:"ToggleButton",props:{value:{description:"ToggleButton value",type:{name:"bool"},required:!1},onToggle:{description:"The onChange handler of the ToggleButton",type:{name:"func"},required:!1},offLabel:{description:"Label text when toggle is off",type:{name:"string"},required:!1},onLabel:{description:"Label text when toggle is on",type:{name:"string"},required:!1},disabled:{description:"Disables ToggleButton if true. Set to false as default",type:{name:"bool"},required:!1},className:{description:"Additional className to add to the ToggleButton",type:{name:"string"},required:!1},dataTestId:{description:"A test id for the toggle button",type:{name:"string"},required:!1}}}},"./shared/modules/network.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C1:()=>getNetworkIcon,Dl:()=>getRpcDataByChainId,Oo:()=>isSafeChainId,SH:()=>sortNetworks,dV:()=>sortNetworksByPrioity,ph:()=>convertCaipToHexChainId,wz:()=>isPrefixedFormattedHexString});var _metamask_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@metamask/utils/dist/caip-types.mjs"),_metamask_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@metamask/utils/dist/hex.mjs"),_constants_network__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./shared/constants/network.ts"),_constants_multichain_networks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./shared/constants/multichain/networks.ts");function isSafeChainId(chainId){return isSafeInteger(chainId)&&chainId>0&&chainId<=_constants_network__WEBPACK_IMPORTED_MODULE_0__.NH3}function isPrefixedFormattedHexString(value){return"string"==typeof value&&RegExp("^0x[1-9a-f]+[0-9a-f]*$","iu").test(value)}function isSafeInteger(value){return Number.isSafeInteger(value)}function convertCaipToHexChainId(id){var _parseCaipChainId=(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.rW)(id),namespace=_parseCaipChainId.namespace,reference=_parseCaipChainId.reference;if(namespace===_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.wV.Eip155)return(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_3__.mu)(parseInt(reference,10).toString(16));throw Error("Unsupported CAIP chain ID namespace: ".concat(namespace,". Only eip155 is supported."))}var sortNetworks=function(networks,sortedChainIds){return Object.values(networks).sort(function(a,b){return sortedChainIds.findIndex(function(param){return param.networkId===a.chainId})-sortedChainIds.findIndex(function(param){return param.networkId===b.chainId})})},getNetworkIcon=function(networkConfiguration){return networkConfiguration.isEvm?_constants_network__WEBPACK_IMPORTED_MODULE_0__.Clc[convertCaipToHexChainId(networkConfiguration.chainId)]:_constants_multichain_networks__WEBPACK_IMPORTED_MODULE_1__.gu[networkConfiguration.chainId]},getRpcDataByChainId=function(chainId,evmNetworks){var hexChainId=convertCaipToHexChainId(chainId);if(!evmNetworks[hexChainId])throw Error("Network configuration not found for chain ID: ".concat(chainId," (").concat(hexChainId,")"));var evmNetworkConfig=evmNetworks[hexChainId],rpcEndpoints=evmNetworkConfig.rpcEndpoints,defaultRpcEndpoint=rpcEndpoints[evmNetworkConfig.defaultRpcEndpointIndex];return{rpcEndpoints:rpcEndpoints,defaultRpcEndpoint:defaultRpcEndpoint}},sortNetworksByPrioity=function(networks,priorityList){return networks.sort(function(networkA,networkB){var indexA=priorityList.indexOf(networkA.chainId),indexB=priorityList.indexOf(networkB.chainId);return -1!==indexA&&-1!==indexB?indexA-indexB:-1!==indexA?-1:-1!==indexB?1:networkA.name.localeCompare(networkB.name)})}},"./ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/constants.mjs"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/hooks/useI18nContext.js"),_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.ts"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/metametrics.ts"),_shared_constants_app__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./shared/constants/app.ts"),_store_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/__mocks__/actions.js"),_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/scripts/lib/util.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_shared_constants_network__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./shared/constants/network.ts"),_helpers_constants_zendesk_url__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/helpers/constants/zendesk-url.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}let __WEBPACK_DEFAULT_EXPORT__=function(param){var searchAddNetworkResults=param.searchAddNetworkResults,t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_2__.P)(),isPopUp=(0,_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_7__.mc)()===_shared_constants_app__WEBPACK_IMPORTED_MODULE_5__.YY,dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.wA)(),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isOpen=_useState[0],setIsOpen=_useState[1],handleMouseEnter=function(){setIsOpen(!0)},handleMouseLeave=function(){setIsOpen(!1)},_useState1=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),2),referenceElement=_useState1[0],setReferenceElement=_useState1[1],popoverContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return 0===Object.keys(searchAddNetworkResults).length?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{marginTop:4,marginBottom:4,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.nl.Flex,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.A9.spaceBetween},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.nl.InlineFlex},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.EY,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.r7.textAlternative,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.J3.bodyMd},t("additionalNetworks")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{onMouseEnter:handleMouseEnter,marginTop:1},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.In,{className:"add-network__warning-icon",name:_component_library__WEBPACK_IMPORTED_MODULE_3__.$M.Info,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.Li.iconMuted,size:_component_library__WEBPACK_IMPORTED_MODULE_3__.lK.Sm,marginLeft:2}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.AM,{referenceElement:referenceElement,position:_component_library__WEBPACK_IMPORTED_MODULE_3__.$x.TopStart,paddingTop:3,paddingBottom:3,offset:[16,12],isOpen:isOpen,flip:!0,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.i0.backgroundMuted,onMouseLeave:handleMouseLeave,style:{width:"326px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.EY,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.J3.bodyMd}," ",t("popularNetworkAddToolTip")," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{key:"learn-more-link"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.vx,{size:_component_library__WEBPACK_IMPORTED_MODULE_3__.wL.Auto,externalLink:!0,onClick:function(){__webpack_require__.g.platform.openTab({url:_helpers_constants_zendesk_url__WEBPACK_IMPORTED_MODULE_10__.A.UNKNOWN_NETWORK})}},t("learnMoreUpperCase")))))))},[searchAddNetworkResults,referenceElement,isOpen]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{className:"new-network-list__networks-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{marginTop:isPopUp?0:4,marginBottom:1,paddingLeft:4,paddingRight:4,ref:function(ref){setReferenceElement(ref)}},popoverContent,searchAddNetworkResults.map(function(network){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{key:network.chainId,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.nl.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.k2.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.A9.spaceBetween,paddingBottom:4,paddingTop:4,className:"new-network-list__list-of-networks","data-testid":"popular-network-".concat(network.chainId),onMouseEnter:handleMouseLeave},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.nl.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.k2.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.Gn,{borderColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.cG.backgroundDefault,size:_component_library__WEBPACK_IMPORTED_MODULE_3__.LM.Sm,src:_shared_constants_network__WEBPACK_IMPORTED_MODULE_9__.Clc[network.chainId],name:network.name}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{marginLeft:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.EY,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.r7.textDefault,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.i0.transparent,ellipsis:!0},network.name))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.az,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.nl.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.k2.center,marginLeft:1},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.$n,{type:_component_library__WEBPACK_IMPORTED_MODULE_3__.Ak.Link,className:"add-network__add-button",variant:_component_library__WEBPACK_IMPORTED_MODULE_3__.Ak.Link,"data-testid":"test-add-button",onClick:_async_to_generator(function(){return _ts_generator(this,function(_state){switch(_state.label){case 0:return dispatch((0,_store_actions__WEBPACK_IMPORTED_MODULE_6__.toggleNetworkMenu)()),[4,dispatch((0,_store_actions__WEBPACK_IMPORTED_MODULE_6__.requestUserApproval)({origin:_shared_constants_app__WEBPACK_IMPORTED_MODULE_5__.jt,type:_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_11__.s.AddEthereumChain,requestData:{chainId:network.chainId,rpcUrl:network.rpcEndpoints[network.defaultRpcEndpointIndex].url,ticker:network.nativeCurrency,rpcPrefs:{blockExplorerUrl:void 0===network.defaultBlockExplorerUrlIndex?void 0:network.blockExplorerUrls[network.defaultBlockExplorerUrlIndex]},imageUrl:_shared_constants_network__WEBPACK_IMPORTED_MODULE_9__.Clc[network.chainId],chainName:network.name,referrer:_shared_constants_app__WEBPACK_IMPORTED_MODULE_5__.jt,source:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_4__.q5.NewAddNetworkFlow}}))];case 1:return _state.sent(),[2]}})})},t("add"))))})))};try{popularnetworklist.displayName="popularnetworklist",popularnetworklist.__docgenInfo={description:"",displayName:"popularnetworklist",props:{searchAddNetworkResults:{defaultValue:null,description:"",name:"searchAddNetworkResults",required:!0,type:{name:"AddNetworkFields[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx#popularnetworklist"]={docgenInfo:popularnetworklist.__docgenInfo,name:"popularnetworklist",path:"ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx#popularnetworklist"})}catch(__react_docgen_typescript_loader_error){}},"./ui/helpers/utils/window.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>openWindow});var openWindow=function(url,target){window.open(url,target||"_blank","noopener")}},"./ui/pages/settings/networks-tab/networks-form/use-safe-chains.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>rpcIdentifierUtility,z:()=>useSafeChains});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/selectors/index.js"),_shared_lib_fetch_with_cache__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./shared/lib/fetch-with-cache.ts"),_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/network.ts"),_shared_constants_time__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./shared/constants/time.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var useSafeChains=function(){var useSafeChainsListValidation=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors__WEBPACK_IMPORTED_MODULE_2__.XVm),_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({safeChains:[]}),2),safeChains=_useState[0],setSafeChains=_useState[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){useSafeChainsListValidation&&(0,_shared_lib_fetch_with_cache__WEBPACK_IMPORTED_MODULE_3__.A)({url:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.WnB,functionName:"getSafeChainsList",allowStale:!0,cacheOptions:{cacheRefreshTime:_shared_constants_time__WEBPACK_IMPORTED_MODULE_5__.d_}}).then(function(response){setSafeChains({safeChains:response})}).catch(function(error){setSafeChains({error:error})})},[useSafeChainsListValidation]),safeChains},rpcIdentifierUtility=function(rpcUrl,safeChains){var host=new URL(rpcUrl).host,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=safeChains[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var chain=_step.value,_iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=chain.rpc[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var rpc=_step1.value;try{if(host===new URL(rpc).host)return host}catch(e){continue}}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return"Unknown rpcUrl"}}}]);